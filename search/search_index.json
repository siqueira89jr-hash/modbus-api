{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#modbus-api","title":"Modbus API","text":"<p>Uma API REST para comunica\u00e7\u00e3o Modbus TCP, projetada para ambientes industriais que exigem robustez, seguran\u00e7a e simplicidade de integra\u00e7\u00e3o. Esta API atua como uma camada intermedi\u00e1ria entre aplica\u00e7\u00f5es modernas (Web, Mobile, SCADA, servi\u00e7os Python) e dispositivos Modbus TCP (CLPs, inversores, sensores), eliminando a necessidade de acesso direto ao protocolo Modbus.</p>"},{"location":"#objetivos","title":"Objetivos","text":"<ul> <li>Facilitar a integra\u00e7\u00e3o de sistemas modernos com equipamentos Modbus TCP</li> <li>Padronizar leitura e escrita de dados industriais via HTTP/JSON</li> <li>Garantir confiabilidade mesmo em cen\u00e1rios de falha de comunica\u00e7\u00e3o</li> <li>Oferecer seguran\u00e7a b\u00e1sica sem complexidade excessiva</li> </ul>"},{"location":"#principais-recursos","title":"Principais Recursos","text":"<ul> <li>Comunica\u00e7\u00e3o Modbus TCP Resiliente</li> <li>Reconex\u00e3o autom\u00e1tica em caso de falha</li> <li>Backoff exponencial configur\u00e1vel</li> <li>Detec\u00e7\u00e3o ativa de conex\u00e3o perdida</li> <li>Cache de endere\u00e7os inv\u00e1lidos (evita chamadas repetidas a endere\u00e7os inexistentes)</li> </ul>"},{"location":"#seguranca-integrada","title":"Seguran\u00e7a Integrada","text":"<ul> <li>Autentica\u00e7\u00e3o via API Key (X-API-Key)</li> <li>Compara\u00e7\u00e3o segura contra ataques de timing</li> <li>Rate limit por API Key ou IP</li> <li>CORS configur\u00e1vel</li> </ul>"},{"location":"#leitura-e-escrita-tipada","title":"Leitura e Escrita Tipada","text":""},{"location":"#suporte-nativo-a-tipos-de-dados-industriais","title":"Suporte nativo a tipos de dados industriais","text":"<ul> <li>INT16 / UINT16</li> <li>INT32 / UINT32</li> <li>INT64 / UINT64</li> <li>FLOAT32</li> <li>FLOAT64</li> </ul>"},{"location":"#endianness-configuravel","title":"Endianness configur\u00e1vel:","text":"<ul> <li>be (Big Endian \u2013 padr\u00e3o Modbus)</li> <li>le (Little Endian)</li> <li>be_swap (Big Endian com Byte Swap )</li> <li>le_swap (Little Endian com Byte Swap )</li> </ul>"},{"location":"#operacoes-modbus","title":"Opera\u00e7\u00f5es Modbus","text":"<ul> <li>Escrita / Leitura de M\u00faltiplos Registradores</li> <li>Escrita / Leitura de coils</li> <li>Leitura de discrete inputs</li> <li>Leitura de Holding Registers e Input Registers</li> </ul>"},{"location":"#arquitetura","title":"Arquitetura","text":"<pre><code>graph LR\n    A[Cliente HTTP&lt;br/&gt;Web / App / SCADA] --&gt; B[FastAPI];\n    B --&gt; C[ModbusTCPResiliente];\n    C --&gt; D[CLP / Dispositivo Modbus TCP];</code></pre> <p>A API abstrai completamente o protocolo Modbus, permitindo que clientes trabalhem apenas com HTTP, JSON e tipos de dados claros.</p>"},{"location":"#quando-usar","title":"Quando Usar","text":"<ul> <li>Integra\u00e7\u00e3o de sistemas web com CLPs</li> <li>Dashboards industriais</li> <li>Gateways de automa\u00e7\u00e3o</li> <li>APIs industriais internas</li> <li>Substitui\u00e7\u00e3o de acessos diretos Modbus em redes corporativas</li> </ul>"},{"location":"#quando-nao-usar","title":"Quando N\u00c3O Usar","text":"<ul> <li>Aplica\u00e7\u00f5es com requisitos de tempo real estrito</li> <li>Ciclos de controle em malha fechada</li> <li>Sistemas onde lat\u00eancia HTTP n\u00e3o \u00e9 aceit\u00e1vel</li> </ul>"},{"location":"#documentacao-tecnica","title":"Documenta\u00e7\u00e3o T\u00e9cnica","text":"<ul> <li>Documenta\u00e7\u00e3o conceitual (MkDocs) \u2192 Este site</li> <li>Documenta\u00e7\u00e3o autom\u00e1tica da API (Swagger / ReDoc) \u2192 Dispon\u00edvel no pr\u00f3prio servi\u00e7o FastAPI</li> </ul>"},{"location":"#tecnologias-utilizadas","title":"Tecnologias Utilizadas","text":"<ol> <li>FastAPI \u2013 API REST moderna e perform\u00e1tica</li> <li>pyModbusTCPtools \u2013 Comunica\u00e7\u00e3o Modbus TCP</li> <li>SlowAPI \u2013 Rate limit</li> <li>Pydantic \u2013 Valida\u00e7\u00e3o de dados</li> <li>MkDocs + Material \u2013 Documenta\u00e7\u00e3o t\u00e9cnica</li> </ol>"},{"location":"modbus-errors/","title":"Modbus errors","text":""},{"location":"api/coils/","title":"Coils","text":""},{"location":"api/coils/#coils","title":"Coils","text":"<p>Os Coils representam sa\u00eddas digitais (bits) no protocolo Modbus. Cada coil armazena um valor booleano (<code>true</code> / <code>false</code>) e pode ser lido ou escrito.</p> <p>Na Modbus API, os coils s\u00e3o expostos via endpoints HTTP REST, abstraindo completamente o protocolo Modbus TCP.</p>"},{"location":"api/coils/#caracteristicas","title":"Caracter\u00edsticas","text":"Caracter\u00edstica Descri\u00e7\u00e3o Tipo de dado Boolean (<code>true</code> / <code>false</code>) Tamanho 1 bit Endere\u00e7amento 0-based Acesso Leitura e Escrita Quantidade m\u00e1xima 2000 coils por requisi\u00e7\u00e3o"},{"location":"api/coils/#endpoints","title":"Endpoints","text":""},{"location":"api/coils/#leitura-de-coils","title":"Leitura de Coils","text":"<pre><code>GET /modbus/coils\n</code></pre>"},{"location":"api/coils/#parametros","title":"Par\u00e2metros","text":"Par\u00e2metro Tipo Obrigat\u00f3rio Descri\u00e7\u00e3o <code>addr</code> integer \u2705 Endere\u00e7o inicial (0-based) <code>count</code> integer \u274c Quantidade de coils (default = 1, m\u00e1x = 2000)"},{"location":"api/coils/#resposta-bem-sucedida","title":"Resposta bem-sucedida","text":"<pre><code>{\n  \"addr\": 0,\n  \"count\": 3,\n  \"values\": [true, false, true]\n}\n</code></pre>"},{"location":"api/coils/#exemplo","title":"Exemplo","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/coils?addr=0&amp;count=3\"\n</code></pre> <pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/modbus/coils\"\nparams = {\n    \"addr\": 0,\n    \"count\": 3\n}\n\nr = requests.get(url, params=params)\nprint(r.json())\n</code></pre>"},{"location":"api/coils/#escrita-em-uma-unica-coil","title":"Escrita em uma \u00danica Coil","text":"<pre><code>PUT /modbus/coil\n</code></pre> <p>Aten\u00e7\u00e3o</p> <p>Requer autentica\u00e7\u00e3o via <code>X-API-Key</code></p>"},{"location":"api/coils/#parametros_1","title":"Par\u00e2metros","text":"Par\u00e2metro Tipo Obrigat\u00f3rio <code>addr</code> integer \u2705 <code>X-API-Key</code> header \u2705"},{"location":"api/coils/#body","title":"Body","text":"<pre><code>{\n  \"value\": true\n}\n</code></pre>"},{"location":"api/coils/#resposta-bem-sucedida_1","title":"Resposta bem-sucedida","text":"<pre><code>{\n  \"ok\": true\n}\n</code></pre>"},{"location":"api/coils/#exemplo_1","title":"Exemplo","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/coil?addr=0\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": false}'\n</code></pre> <pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/modbus/coil\"\nheaders = {\"X-API-Key\": \"SUA_API_KEY\"}\nparams = {\"addr\": 0}\npayload = {\"value\": False}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\nprint(r.json())\n</code></pre>"},{"location":"api/coils/#escrita-de-multiplas-coils","title":"Escrita de M\u00faltiplas Coils","text":"<pre><code>PUT /modbus/coils\n</code></pre> <p>Aten\u00e7\u00e3o</p> <p>Requer autentica\u00e7\u00e3o via <code>X-API-Key</code></p>"},{"location":"api/coils/#parametros_2","title":"Par\u00e2metros","text":"Par\u00e2metro Tipo Obrigat\u00f3rio <code>addr</code> integer \u2705 <code>X-API-Key</code> header \u2705"},{"location":"api/coils/#body_1","title":"Body","text":"<pre><code>{\n  \"values\": [true, true, false]\n}\n</code></pre> <p>Info</p> <p>O n\u00famero de coils escritas \u00e9 determinado pelo tamanho do array <code>values</code>.</p>"},{"location":"api/coils/#resposta-bem-sucedida_2","title":"Resposta bem-sucedida","text":"<pre><code>{\n  \"ok\": true\n}\n</code></pre>"},{"location":"api/coils/#exemplo_2","title":"Exemplo","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/coils?addr=0&amp;count=3\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"values\": [true, false, true]}'\n</code></pre> <pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/modbus/coils\"\nheaders = {\"X-API-Key\": \"SUA_API_KEY\"}\nparams = {\"addr\": 0, \"count\": 3}\npayload = {\"values\": [True, False, True]}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\nprint(r.json())\n</code></pre>"},{"location":"api/coils/#modelos-de-dados","title":"Modelos de Dados","text":"Modelo Descri\u00e7\u00e3o <code>ReadBitsResponse</code> Retorno da leitura de coils <code>WriteSingleCoilRequest</code> Escrita de uma \u00fanica coil <code>WriteMultipleCoilsRequest</code> Escrita de m\u00faltiplas coils"},{"location":"api/coils/#seguranca","title":"Seguran\u00e7a","text":"<ul> <li>Opera\u00e7\u00f5es de leitura n\u00e3o exigem autentica\u00e7\u00e3o</li> <li>Opera\u00e7\u00f5es de escrita exigem o header <code>X-API-Key</code></li> </ul> <pre><code>X-API-Key: SUA_API_KEY\n</code></pre>"},{"location":"api/coils/#erros-comuns","title":"Erros Comuns","text":"Situa\u00e7\u00e3o Resultado Endere\u00e7o inv\u00e1lido Erro Modbus Quantidade acima do limite HTTP 400 CLP/Servidor offline HTTP 503 API Key ausente ou inv\u00e1lida HTTP 401"},{"location":"api/discrete-inputs/","title":"Discrete Inputs","text":""},{"location":"api/discrete-inputs/#discrete-inputs","title":"Discrete Inputs","text":"<p>As Discrete Inputs representam entradas digitais (bits somente de leitura) no protocolo Modbus. Eles refletem o estado de sensores, bot\u00f5es ou contatos f\u00edsicos e n\u00e3o podem ser escritos. Na Modbus API, os discrete inputs s\u00e3o expostos via endpoint HTTP REST, abstraindo completamente o protocolo Modbus TCP.</p>"},{"location":"api/discrete-inputs/#caracteristicas","title":"Caracter\u00edsticas","text":"Caracter\u00edstica Descri\u00e7\u00e3o Tipo de dado Boolean (<code>true</code> / <code>false</code>) Tamanho 1 bit Endere\u00e7amento 0-based Acesso Somente leitura Quantidade m\u00e1xima 2000 inputs por requisi\u00e7\u00e3o"},{"location":"api/discrete-inputs/#endpoint","title":"Endpoint","text":""},{"location":"api/discrete-inputs/#leitura-de-discrete-inputs","title":"Leitura de Discrete Inputs","text":"<pre><code>GET /modbus/discrete-inputs\n</code></pre>"},{"location":"api/discrete-inputs/#parametros","title":"Par\u00e2metros","text":"Par\u00e2metro Tipo Obrigat\u00f3rio Descri\u00e7\u00e3o <code>addr</code> integer \u2705 Endere\u00e7o inicial (0-based) <code>count</code> integer \u274c Quantidade de entradas (default = 1, m\u00e1x = 2000)"},{"location":"api/discrete-inputs/#resposta-bem-sucedida","title":"Resposta bem-sucedida","text":"<pre><code>{\n  \"addr\": 0,\n  \"count\": 3,\n  \"values\": [true, false, true]\n}\n</code></pre>"},{"location":"api/discrete-inputs/#exemplo","title":"Exemplo","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/discrete-inputs?addr=0&amp;count=3\"\n</code></pre> <pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/modbus/discrete-inputs\"\nparams = {\n    \"addr\": 0,\n    \"count\": 3\n}\n\nr = requests.get(url, params=params)\nprint(r.json())\n</code></pre>"},{"location":"api/discrete-inputs/#modelos-de-dados","title":"Modelos de Dados","text":"Modelo Descri\u00e7\u00e3o <code>ReadBitsResponse</code> Retorno da leitura de discrete inputs"},{"location":"api/discrete-inputs/#seguranca","title":"Seguran\u00e7a","text":"<ul> <li>Opera\u00e7\u00f5es de leitura n\u00e3o exigem autentica\u00e7\u00e3o</li> <li>Escrita n\u00e3o \u00e9 suportada para discrete inputs</li> </ul>"},{"location":"api/discrete-inputs/#erros-comuns","title":"Erros Comuns","text":"Situa\u00e7\u00e3o Resultado Endere\u00e7o inv\u00e1lido Erro Modbus Quantidade acima do limite HTTP 400 CLP/Servidor offline HTTP 503"},{"location":"api/typed-holding-registers/","title":"Typed Holding Registers","text":""},{"location":"api/typed-holding-registers/#typed-holding-registers","title":"Typed Holding Registers","text":"<p>Os Typed Holding Registers permitem a leitura e escrita de Holding Registers Modbus interpretando os valores conforme o tipo de dado especificado, abstraindo completamente a convers\u00e3o manual de registradores.</p> <p>Esses registradores s\u00e3o normalmente utilizados para setpoints, par\u00e2metros, configura\u00e7\u00f5es e comandos num\u00e9ricos.</p> <p>Aten\u00e7\u00e3o</p> <p>Escrita em Holding Registers impacta diretamente o processo industrial.</p>"},{"location":"api/typed-holding-registers/#caracteristicas","title":"Caracter\u00edsticas","text":"Caracter\u00edstica Descri\u00e7\u00e3o Tipo Modbus Holding Registers Acesso Leitura e Escrita Endere\u00e7amento 0-based Tipos suportados uint16, int16, uint32, int32, uint64, int64, float32, float64 Endianness Configur\u00e1vel para tipos 32/64 bits Autentica\u00e7\u00e3o Obrigat\u00f3ria para escrita (<code>X-API-Key</code>)"},{"location":"api/typed-holding-registers/#endpoints","title":"Endpoints","text":""},{"location":"api/typed-holding-registers/#leitura-de-holding-registers-tipados","title":"Leitura de Holding Registers Tipados","text":"<pre><code>GET /modbus/registers/typed\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita-de-holding-registers-tipados","title":"Escrita de Holding Registers Tipados","text":"<pre><code>PUT /modbus/holding-registers/typed\n</code></pre>"},{"location":"api/typed-holding-registers/#parametros-leitura","title":"Par\u00e2metros \u2014 Leitura","text":"Par\u00e2metro Tipo Obrigat\u00f3rio Descri\u00e7\u00e3o <code>table</code> string \u2705 Deve ser <code>holding</code> <code>addr</code> integer \u2705 Endere\u00e7o inicial (0-based) <code>dtype</code> string \u2705 Tipo de dado <code>endian</code> string \u274c Ordem de bytes/words (default = BE)"},{"location":"api/typed-holding-registers/#parametros-escrita","title":"Par\u00e2metros \u2014 Escrita","text":"Par\u00e2metro Tipo Obrigat\u00f3rio Descri\u00e7\u00e3o <code>addr</code> integer \u2705 Endere\u00e7o inicial (0-based) <code>dtype</code> string \u2705 Tipo de dado <code>endian</code> string \u274c Ordem de bytes/words (default = BE) <code>X-API-Key</code> header \u2705 Chave de autentica\u00e7\u00e3o"},{"location":"api/typed-holding-registers/#body-escrita","title":"Body (Escrita)","text":"<pre><code>{\n  \"value\": 42.5\n}\n</code></pre>"},{"location":"api/typed-holding-registers/#tipos-de-dados-dtype","title":"Tipos de Dados (<code>dtype</code>)","text":"Tipo Registradores Descri\u00e7\u00e3o <code>uint16</code> 1 Inteiro sem sinal <code>int16</code> 1 Inteiro com sinal <code>uint32</code> 2 Inteiro sem sinal <code>int32</code> 2 Inteiro com sinal <code>uint64</code> 4 Inteiro sem sinal <code>int64</code> 4 Inteiro com sinal <code>float32</code> 2 Ponto flutuante <code>float64</code> 4 Ponto flutuante"},{"location":"api/typed-holding-registers/#faixa-de-valores-por-tipo-range","title":"Faixa de Valores por Tipo (Range)","text":"<p>A tabela abaixo descreve a faixa v\u00e1lida de valores para cada tipo de dado suportado nos Typed Holding Registers.</p> <p>Valores fora desses limites resultam em erro HTTP 422 (Unprocessable Entity).</p> Tipo Bits Registradores Faixa de Valores <code>uint16</code> 16 1 0 \u2026 65 535 <code>int16</code> 16 1 \u221232 768 \u2026 32 767 <code>uint32</code> 32 2 0 \u2026 4 294 967 295 <code>int32</code> 32 2 \u22122 147 483 648 \u2026 2 147 483 647 <code>uint64</code> 64 4 0 \u2026 18 446 744 073 709 551 615 <code>int64</code> 64 4 \u22129 223 372 036 854 775 808 \u2026 9 223 372 036 854 775 807 <code>float32</code> 32 2 IEEE-754 (\u2248 \u00b13.4 \u00d7 10\u00b3\u2078) <code>float64</code> 64 4 IEEE-754 (\u2248 \u00b11.8 \u00d7 10\u00b3\u2070\u2078) <p>Observa\u00e7\u00f5es Importantes</p> <ul> <li>Para tipos <code>float32</code> e <code>float64</code>, valores NaN e Infinity n\u00e3o s\u00e3o permitidos  </li> <li>Tipos de 16 bits ignoram o par\u00e2metro <code>endian</code> </li> <li>Tipos de 32 e 64 bits exigem defini\u00e7\u00e3o expl\u00edcita de <code>endian</code></li> </ul>"},{"location":"api/typed-holding-registers/#endianness","title":"Endianness","text":"<p>O par\u00e2metro <code>endian</code> define a ordem de words e bytes para tipos de 32 e 64 bits.</p> Valor Descri\u00e7\u00e3o <code>be</code> Big-endian <code>le</code> Little-endian <code>be_swap</code> Big-endian com swap de words <code>le_swap</code> Little-endian com swap de words <p>Para tipos de 16 bits (<code>uint16</code>, <code>int16</code>), o par\u00e2metro <code>endian</code> \u00e9 ignorado.</p>"},{"location":"api/typed-holding-registers/#resposta-bem-sucedida-leitura","title":"Resposta bem-sucedida \u2014 Leitura","text":"<pre><code>{\n  \"table\": \"holding\",\n  \"addr\": 20,\n  \"dtype\": \"float32\",\n  \"endian\": \"be\",\n  \"value\": 75.0\n}\n</code></pre>"},{"location":"api/typed-holding-registers/#resposta-bem-sucedida-escrita","title":"Resposta bem-sucedida \u2014 Escrita","text":"<pre><code>{\n  \"ok\": true\n}\n</code></pre>"},{"location":"api/typed-holding-registers/#seguranca","title":"Seguran\u00e7a","text":"<ul> <li>Leitura n\u00e3o exige autentica\u00e7\u00e3o</li> <li>Escrita exige API Key v\u00e1lida</li> <li>Valida\u00e7\u00e3o rigorosa de tipos e limites</li> <li>Escrita de valores inv\u00e1lidos \u00e9 rejeitada</li> </ul>"},{"location":"api/typed-holding-registers/#erros-comuns","title":"Erros Comuns","text":"Situa\u00e7\u00e3o C\u00f3digo HTTP API Key ausente ou inv\u00e1lida 401 Valor fora do intervalo 422 Tipo incompat\u00edvel 422 Servidor Modbus indispon\u00edvel 503"},{"location":"api/typed-holding-registers/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ul> <li>Validar valores antes da escrita</li> <li>Evitar escrita c\u00edclica desnecess\u00e1ria</li> <li>Consultar o Health antes de comandos cr\u00edticos</li> <li>Usar Typed Holding apenas para par\u00e2metros documentados</li> </ul>"},{"location":"api/typed-holding-registers/#exemplos","title":"Exemplos","text":""},{"location":"api/typed-holding-registers/#int16-signed-16-bits","title":"INT16 (Signed, 16-bits)","text":""},{"location":"api/typed-holding-registers/#leitura","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int16\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int16\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int16\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -1234}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int16\"\n}\n\npayload = {\n    \"value\": -1234\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#uint16-unsigned-16-bits","title":"UINT16 (Unsigned, 16-bits)","text":""},{"location":"api/typed-holding-registers/#leitura_1","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint16\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint16\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_1","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint16\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 1234}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint16\"\n}\n\npayload = {\n    \"value\": 1234\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre> <p>Observa\u00e7\u00f5es</p> <ul> <li>Para tipos 16 bits, o par\u00e2metro <code>endian</code> \u00e9 ignorado  </li> <li>Valores fora do range resultam em HTTP 422 </li> <li>Escritas exigem autentica\u00e7\u00e3o via <code>X-API-Key</code></li> </ul>"},{"location":"api/typed-holding-registers/#int32-signed-32-bits","title":"INT32 (Signed, 32-bits)","text":""},{"location":"api/typed-holding-registers/#int32-big-endian","title":"INT32 \u2013 Big Endian","text":""},{"location":"api/typed-holding-registers/#leitura_2","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int32&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_2","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int32&amp;endian=be\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"be\"\n}\n\npayload = {\n    \"value\": -123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#int32-little-endian","title":"INT32 \u2013 Little Endian","text":""},{"location":"api/typed-holding-registers/#leitura_3","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int32&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_3","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int32&amp;endian=le\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"le\"\n}\n\npayload = {\n    \"value\": -123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#int32-big-endian-word-swap","title":"INT32 \u2013 Big Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_4","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int32&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_4","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int32&amp;endian=be_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"be_swap\"\n}\n\npayload = {\n    \"value\": -123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#int32-little-endian-word-swap","title":"INT32 \u2013 Little Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_5","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int32&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_5","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int32&amp;endian=le_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"le_swap\"\n}\n\npayload = {\n    \"value\": -123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre> <p>Observa\u00e7\u00f5es</p> <ul> <li><code>INT32</code> utiliza 2 Holding Registers</li> <li>O par\u00e2metro <code>endian</code> \u00e9 obrigat\u00f3rio para tipos de 32 bits</li> <li>Escritas exigem autentica\u00e7\u00e3o via <code>X-API-Key</code></li> <li>Valores fora do range resultam em HTTP 422</li> </ul>"},{"location":"api/typed-holding-registers/#uint32-unsigned-32-bits","title":"UINT32 (Unsigned, 32-bits)","text":""},{"location":"api/typed-holding-registers/#uint32-big-endian","title":"UINT32 \u2013 Big Endian","text":""},{"location":"api/typed-holding-registers/#leitura_6","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint32&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_6","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint32&amp;endian=be\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"be\"\n}\n\npayload = {\n    \"value\": 123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#uint32-little-endian","title":"UINT32 \u2013 Little Endian","text":""},{"location":"api/typed-holding-registers/#leitura_7","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint32&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_7","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint32&amp;endian=le\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"le\"\n}\n\npayload = {\n    \"value\": 123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#uint32-big-endian-word-swap","title":"UINT32 \u2013 Big Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_8","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint32&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_8","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint32&amp;endian=be_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"be_swap\"\n}\n\npayload = {\n    \"value\": 123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#uint32-little-endian-word-swap","title":"UINT32 \u2013 Little Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_9","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint32&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_9","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint32&amp;endian=le_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"le_swap\"\n}\n\npayload = {\n    \"value\": 123456\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre> <p>Observa\u00e7\u00f5es</p> <ul> <li><code>UINT32</code> utiliza 2 Holding Registers</li> <li>O par\u00e2metro <code>endian</code> \u00e9 obrigat\u00f3rio para tipos de 32 bits</li> <li>Escritas exigem autentica\u00e7\u00e3o via <code>X-API-Key</code></li> <li>Valores fora do range resultam em HTTP 422</li> </ul>"},{"location":"api/typed-holding-registers/#int64-signed-64-bits","title":"INT64 (Signed, 64-bits)","text":""},{"location":"api/typed-holding-registers/#int64-big-endian","title":"INT64 \u2013 Big Endian","text":""},{"location":"api/typed-holding-registers/#leitura_10","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int64&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_10","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int64&amp;endian=be\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -1234567890123}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"be\"\n}\n\npayload = {\n    \"value\": -1234567890123\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#int64-little-endian","title":"INT64 \u2013 Little Endian","text":""},{"location":"api/typed-holding-registers/#leitura_11","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int64&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_11","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int64&amp;endian=le\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -1234567890123}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"le\"\n}\n\npayload = {\n    \"value\": -1234567890123\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#int64-big-endian-word-swap","title":"INT64 \u2013 Big Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_12","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int64&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_12","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int64&amp;endian=be_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -1234567890123}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"be_swap\"\n}\n\npayload = {\n    \"value\": -1234567890123\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#int64-little-endian-word-swap","title":"INT64 \u2013 Little Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_13","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=int64&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_13","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=int64&amp;endian=le_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": -1234567890123}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"le_swap\"\n}\n\npayload = {\n    \"value\": -1234567890123\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre> <p>Observa\u00e7\u00f5es</p> <ul> <li><code>INT64</code> utiliza 4 Holding Registers</li> <li>O par\u00e2metro <code>endian</code> \u00e9 obrigat\u00f3rio para tipos de 64 bits</li> <li>Escritas exigem autentica\u00e7\u00e3o via <code>X-API-Key</code></li> <li>Valores fora do range resultam em HTTP 422</li> </ul>"},{"location":"api/typed-holding-registers/#uint64-unsigned-64-bits","title":"UINT64 (Unsigned, 64-bits)","text":""},{"location":"api/typed-holding-registers/#uint64-big-endian","title":"UINT64 \u2013 Big Endian","text":""},{"location":"api/typed-holding-registers/#leitura_14","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint64&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_14","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint64&amp;endian=be\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456789012345}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"be\"\n}\n\npayload = {\n    \"value\": 123456789012345\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#uint64-little-endian","title":"UINT64 \u2013 Little Endian","text":""},{"location":"api/typed-holding-registers/#leitura_15","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint64&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_15","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint64&amp;endian=le\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456789012345}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"le\"\n}\n\npayload = {\n    \"value\": 123456789012345\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#uint64-big-endian-word-swap","title":"UINT64 \u2013 Big Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_16","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint64&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_16","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint64&amp;endian=be_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456789012345}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"be_swap\"\n}\n\npayload = {\n    \"value\": 123456789012345\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#uint64-little-endian-word-swap","title":"UINT64 \u2013 Little Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_17","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=uint64&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_17","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=uint64&amp;endian=le_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 123456789012345}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"le_swap\"\n}\n\npayload = {\n    \"value\": 123456789012345\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre> <p>Observa\u00e7\u00f5es</p> <ul> <li><code>UINT64</code> utiliza 4 Holding Registers</li> <li>O par\u00e2metro <code>endian</code> \u00e9 obrigat\u00f3rio para tipos de 64 bits</li> <li>Escritas exigem autentica\u00e7\u00e3o via <code>X-API-Key</code></li> <li>Valores fora do range resultam em HTTP 422</li> </ul>"},{"location":"api/typed-holding-registers/#float32-ieee-754-32-bits","title":"FLOAT32 (IEEE-754, 32-bits)","text":""},{"location":"api/typed-holding-registers/#float32-big-endian","title":"FLOAT32 \u2013 Big Endian","text":""},{"location":"api/typed-holding-registers/#leitura_18","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float32&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_18","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float32&amp;endian=be\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 12.34}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"be\"\n}\n\npayload = {\n    \"value\": 12.34\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#float32-little-endian","title":"FLOAT32 \u2013 Little Endian","text":""},{"location":"api/typed-holding-registers/#leitura_19","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float32&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_19","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float32&amp;endian=le\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 12.34}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"le\"\n}\n\npayload = {\n    \"value\": 12.34\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#float32-big-endian-word-swap","title":"FLOAT32 \u2013 Big Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_20","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float32&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_20","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float32&amp;endian=be_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 12.34}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"be_swap\"\n}\n\npayload = {\n    \"value\": 12.34\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#float32-little-endian-word-swap","title":"FLOAT32 \u2013 Little Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_21","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float32&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_21","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float32&amp;endian=le_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 12.34}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"le_swap\"\n}\n\npayload = {\n    \"value\": 12.34\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre> <p>Observa\u00e7\u00f5es</p> <ul> <li><code>FLOAT32</code> utiliza 2 Holding Registers</li> <li>O par\u00e2metro <code>endian</code> \u00e9 obrigat\u00f3rio para tipos de 32 bits</li> <li>Valores NaN e Infinity n\u00e3o s\u00e3o permitidos</li> <li>Escritas exigem autentica\u00e7\u00e3o via <code>X-API-Key</code></li> </ul>"},{"location":"api/typed-holding-registers/#float64-ieee-754-64-bits","title":"FLOAT64 (IEEE-754, 64-bits)","text":"<p>Os exemplos abaixo demonstram leitura e escrita de FLOAT64 em Holding Registers, cobrindo todas as varia\u00e7\u00f5es de endianness suportadas pela API.</p>"},{"location":"api/typed-holding-registers/#float64-big-endian","title":"FLOAT64 \u2013 Big Endian","text":""},{"location":"api/typed-holding-registers/#leitura_22","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float64&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_22","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float64&amp;endian=be\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 1234.5678}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"be\"\n}\n\npayload = {\n    \"value\": 1234.5678\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#float64-little-endian","title":"FLOAT64 \u2013 Little Endian","text":""},{"location":"api/typed-holding-registers/#leitura_23","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float64&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_23","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float64&amp;endian=le\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 1234.5678}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"le\"\n}\n\npayload = {\n    \"value\": 1234.5678\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#float64-big-endian-word-swap","title":"FLOAT64 \u2013 Big Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_24","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float64&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_24","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float64&amp;endian=be_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 1234.5678}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"be_swap\"\n}\n\npayload = {\n    \"value\": 1234.5678\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#float64-little-endian-word-swap","title":"FLOAT64 \u2013 Little Endian, Word Swap","text":""},{"location":"api/typed-holding-registers/#leitura_25","title":"Leitura","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=holding&amp;addr=0&amp;dtype=float64&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"holding\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-holding-registers/#escrita_25","title":"Escrita","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=0&amp;dtype=float64&amp;endian=le_swap\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 1234.5678}'\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/holding-registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nheaders = {\n    \"X-API-Key\": \"SUA_API_KEY\"\n}\n\nparams = {\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"le_swap\"\n}\n\npayload = {\n    \"value\": 1234.5678\n}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre> <p>Observa\u00e7\u00f5es</p> <ul> <li><code>FLOAT64</code> utiliza 4 Holding Registers</li> <li>O par\u00e2metro <code>endian</code> \u00e9 obrigat\u00f3rio para tipos de 64 bits</li> <li>Valores NaN e Infinity n\u00e3o s\u00e3o permitidos</li> <li>Escritas exigem autentica\u00e7\u00e3o via <code>X-API-Key</code></li> </ul>"},{"location":"api/typed-input-registers/","title":"Typed Input Registers","text":""},{"location":"api/typed-input-registers/#typed-input-registers","title":"Typed Input Registers","text":"<p>Os Typed Input Registers permitem a leitura de Input Registers Modbus interpretando os valores conforme o tipo de dado especificado, abstraindo completamente a convers\u00e3o manual de registradores. Esses registradores s\u00e3o somente leitura e normalmente representam medi\u00e7\u00f5es, sensores e vari\u00e1veis de processo.</p>"},{"location":"api/typed-input-registers/#caracteristicas","title":"Caracter\u00edsticas","text":"Caracter\u00edstica Descri\u00e7\u00e3o Tipo Modbus Input Registers Acesso Somente leitura Endere\u00e7amento 0-based Tipos suportados uint16, int16, uint32, int32, uint64, int64, float32, float64 Endianness Configur\u00e1vel para tipos 32/64 bits"},{"location":"api/typed-input-registers/#endpoint","title":"Endpoint","text":""},{"location":"api/typed-input-registers/#leitura-de-input-registers-tipados","title":"Leitura de Input Registers Tipados","text":"<pre><code>GET /modbus/registers/typed\n</code></pre>"},{"location":"api/typed-input-registers/#parametros","title":"Par\u00e2metros","text":"Par\u00e2metro Tipo Obrigat\u00f3rio Descri\u00e7\u00e3o <code>table</code> string \u2705 Deve ser <code>input</code> <code>addr</code> integer \u2705 Endere\u00e7o inicial (0-based) <code>dtype</code> string \u2705 Tipo de dado <code>endian</code> string \u274c Ordem de bytes/words (default = BE)"},{"location":"api/typed-input-registers/#tipos-de-dados-dtype","title":"Tipos de Dados (<code>dtype</code>)","text":"Tipo Registradores Descri\u00e7\u00e3o <code>uint16</code> 1 Inteiro sem sinal <code>int16</code> 1 Inteiro com sinal <code>uint32</code> 2 Inteiro sem sinal <code>int32</code> 2 Inteiro com sinal <code>uint64</code> 4 Inteiro sem sinal <code>int64</code> 4 Inteiro com sinal <code>float32</code> 2 Ponto flutuante <code>float64</code> 4 Ponto flutuante"},{"location":"api/typed-input-registers/#faixa-de-valores-por-tipo-range","title":"Faixa de Valores por Tipo (Range)","text":"<p>A tabela abaixo descreve a faixa v\u00e1lida de valores para cada tipo de dado suportado nos Typed Input Registers.</p> <p>Valores fora desses limites resultam em erro HTTP 422 (Unprocessable Entity).</p> Tipo Bits Registradores Faixa de Valores <code>uint16</code> 16 1 0 \u2026 65 535 <code>int16</code> 16 1 \u221232 768 \u2026 32 767 <code>uint32</code> 32 2 0 \u2026 4 294 967 295 <code>int32</code> 32 2 \u22122 147 483 648 \u2026 2 147 483 647 <code>uint64</code> 64 4 0 \u2026 18 446 744 073 709 551 615 <code>int64</code> 64 4 \u22129 223 372 036 854 775 808 \u2026 9 223 372 036 854 775 807 <code>float32</code> 32 2 IEEE-754 (\u2248 \u00b13.4 \u00d7 10\u00b3\u2078) <code>float64</code> 64 4 IEEE-754 (\u2248 \u00b11.8 \u00d7 10\u00b3\u2070\u2078) <p>Observa\u00e7\u00f5es Importantes</p> <ul> <li>Tipos de 16 bits ignoram o par\u00e2metro <code>endian</code> </li> <li>Tipos de 32 e 64 bits exigem defini\u00e7\u00e3o expl\u00edcita de <code>endian</code></li> </ul>"},{"location":"api/typed-input-registers/#endianness","title":"Endianness","text":"<p>O par\u00e2metro <code>endian</code> define a ordem de words e bytes para tipos de 32 e 64 bits.</p> Valor Descri\u00e7\u00e3o <code>be</code> Big-endian <code>le</code> Little-endian <code>be_swap</code> Big-endian com swap de words <code>le_swap</code> Little-endian com swap de words <p>Para tipos de 16 bits (<code>uint16</code>, <code>int16</code>), o par\u00e2metro <code>endian</code> \u00e9 ignorado.</p>"},{"location":"api/typed-input-registers/#resposta-bem-sucedida","title":"Resposta bem-sucedida","text":"<pre><code>{\n  \"table\": \"input\",\n  \"addr\": 10,\n  \"dtype\": \"float32\",\n  \"endian\": \"be\",\n  \"value\": 23.75\n}\n</code></pre>"},{"location":"api/typed-input-registers/#campos-da-resposta","title":"Campos da Resposta","text":"Campo Tipo Descri\u00e7\u00e3o <code>table</code> string Tabela Modbus (<code>input</code>) <code>addr</code> integer Endere\u00e7o inicial <code>dtype</code> string Tipo interpretado <code>endian</code> string Endianness aplicado <code>value</code> number Valor convertido"},{"location":"api/typed-input-registers/#seguranca","title":"Seguran\u00e7a","text":"<ul> <li>N\u00e3o requer autentica\u00e7\u00e3o</li> <li>Escrita n\u00e3o \u00e9 suportada para Input Registers</li> </ul>"},{"location":"api/typed-input-registers/#erros-comuns","title":"Erros Comuns","text":"Situa\u00e7\u00e3o C\u00f3digo HTTP Endere\u00e7o inv\u00e1lido 400 Tipo incompat\u00edvel 422 Servidor Modbus indispon\u00edvel 503"},{"location":"api/typed-input-registers/#exemplos","title":"Exemplos","text":""},{"location":"api/typed-input-registers/#int16-signed-16-bits","title":"Int16 (Signed, 16-bits)","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int16\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int16\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint16-unsigned-16-bits","title":"UINT16 (Unsigned, 16-bits)","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint16\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint16\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int32-signed-32-bits-big-endian","title":"INT32 (Signed, 32-bits) \u2013 Big Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int32&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int32-signed-32-bits-little-endian","title":"INT32 (Signed, 32-bits) \u2013 Little Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int32&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int32-signed-32-bits-big-endian-word-swap","title":"INT32 (Signed, 32-bits) \u2013 Big Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int32&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int32-signed-32-bits-little-endian-word-swap","title":"INT32 (Signed, 32-bits) \u2013 Little Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int32&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int32\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint32-unsigned-32-bits-big-endian","title":"UINT32 (Unsigned, 32-bits) \u2013 Big Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint32&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint32-unsigned-32-bits-little-endian","title":"UINT32 (Unsigned, 32-bits) \u2013 Little Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint32&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint32-unsigned-32-bits-big-endian-word-swap","title":"UINT32 (Unsigned, 32-bits) \u2013 Big Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint32&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint32-unsigned-32-bits-little-endian-word-swap","title":"UINT32 (Unsigned, 32-bits) \u2013 Little Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint32&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint32\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int64-signed-64-bits-big-endian","title":"INT64 (Signed, 64-bits) \u2013 Big Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int64&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int64-signed-64-bits-little-endian","title":"INT64 (Signed, 64-bits) \u2013 Little Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int64&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int64-signed-64-bits-big-endian-word-swap","title":"INT64 (Signed, 64-bits) \u2013 Big Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int64&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#int64-signed-64-bits-little-endian-word-swap","title":"INT64 (Signed, 64-bits) \u2013 Little Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=int64&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"int64\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint64-unsigned-64-bits-big-endian","title":"UINT64 (Unsigned, 64-bits) \u2013 Big Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint64&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint64-unsigned-64-bits-little-endian","title":"UINT64 (Unsigned, 64-bits) \u2013 Little Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint64&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint64-unsigned-64-bits-big-endian-word-swap","title":"UINT64 (Unsigned, 64-bits) \u2013 Big Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint64&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#uint64-unsigned-64-bits-little-endian-word-swap","title":"UINT64 (Unsigned, 64-bits) \u2013 Little Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=uint64&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"uint64\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float32-ieee-754-32-bits-big-endian","title":"FLOAT32 (IEEE-754, 32-bits) \u2013 Big Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float32&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float32-ieee-754-32-bits-little-endian","title":"FLOAT32 (IEEE-754, 32-bits) \u2013 Little Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float32&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float32-ieee-754-32-bits-big-endian-word-swap","title":"FLOAT32 (IEEE-754, 32-bits) \u2013 Big Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float32&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float32-ieee-754-32-bits-little-endian-word-swap","title":"FLOAT32 (IEEE-754, 32-bits) \u2013 Little Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float32&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float32\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float64-ieee-754-64-bits-big-endian","title":"FLOAT64 (IEEE-754, 64-bits) \u2013 Big Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float64&amp;endian=be\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"be\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float64-ieee-754-64-bits-little-endian","title":"FLOAT64 (IEEE-754, 64-bits) \u2013 Little Endian","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float64&amp;endian=le\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"le\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float64-ieee-754-64-bits-big-endian-word-swap","title":"FLOAT64 (IEEE-754, 64-bits) \u2013 Big Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float64&amp;endian=be_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"be_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"api/typed-input-registers/#float64-ieee-754-64-bits-little-endian-word-swap","title":"FLOAT64 (IEEE-754, 64-bits) \u2013 Little Endian, Word Swap","text":"cURLPython <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=0&amp;dtype=float64&amp;endian=le_swap\"\n</code></pre> <pre><code>import requests\n\nBASE_URL = \"http://127.0.0.1:8000\"\nENDPOINT = \"/modbus/registers/typed\"\n\nurl = f\"{BASE_URL}{ENDPOINT}\"\n\nparams = {\n    \"table\": \"input\",\n    \"addr\": 0,\n    \"dtype\": \"float64\",\n    \"endian\": \"le_swap\"\n}\n\nr = requests.get(url, params=params)\n\nprint(r.status_code)\nprint(r.json())\n</code></pre>"},{"location":"operational/api-key/","title":"API Key","text":""},{"location":"operational/api-key/#api-key","title":"API Key","text":"<p>A Modbus API utiliza API Key como mecanismo principal de autentica\u00e7\u00e3o para opera\u00e7\u00f5es sens\u00edveis, como escrita em coils e registradores.</p> <p>A autentica\u00e7\u00e3o \u00e9 simples, expl\u00edcita e compat\u00edvel com qualquer cliente HTTP.</p>"},{"location":"operational/api-key/#visao-geral","title":"Vis\u00e3o Geral","text":"<ul> <li>A API Key \u00e9 enviada via header HTTP</li> <li>O nome do header \u00e9 <code>X-API-Key</code></li> <li>Apenas opera\u00e7\u00f5es de escrita exigem autentica\u00e7\u00e3o</li> <li>Opera\u00e7\u00f5es de leitura s\u00e3o p\u00fablicas por padr\u00e3o</li> </ul>"},{"location":"operational/api-key/#header-de-autenticacao","title":"Header de Autentica\u00e7\u00e3o","text":"<pre><code>X-API-Key: SUA_API_KEY\n</code></pre> <p>Obrigat\u00f3rio para escrita</p> <p>Endpoints que realizam escrita Modbus exigem autentica\u00e7\u00e3o via API Key.</p>"},{"location":"operational/api-key/#onde-a-api-key-e-exigida","title":"Onde a API Key \u00e9 exigida","text":"Endpoint M\u00e9todo Autentica\u00e7\u00e3o <code>/modbus/coil</code> <code>PUT</code>  Obrigat\u00f3ria <code>/modbus/coils</code> <code>PUT</code>  Obrigat\u00f3ria <code>/modbus/holding-register</code> <code>PUT</code>  Obrigat\u00f3ria <code>/modbus/holding-registers</code> <code>PUT</code>  Obrigat\u00f3ria <code>/modbus/coils</code> <code>GET</code>  N\u00e3o exigida <code>/modbus/discrete-inputs</code> <code>GET</code>  N\u00e3o exigida"},{"location":"operational/api-key/#exemplo-de-uso","title":"Exemplo de Uso","text":"cURLPython <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/coils?addr=0&amp;count=2\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"values\": [true, false]}'\n</code></pre> <pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/modbus/coils\"\nheaders = {\"X-API-Key\": \"SUA_API_KEY\"}\nparams = {\"addr\": 0, \"count\": 2}\npayload = {\"values\": [True, False]}\n\nr = requests.put(url, params=params, json=payload, headers=headers)\nprint(r.json())\n</code></pre>"},{"location":"operational/api-key/#erros-de-autenticacao","title":"Erros de Autentica\u00e7\u00e3o","text":"Situa\u00e7\u00e3o C\u00f3digo HTTP Descri\u00e7\u00e3o API Key ausente <code>401</code> Header n\u00e3o informado API Key inv\u00e1lida <code>401</code> Chave incorreta <p>Seguran\u00e7a</p> <p>A valida\u00e7\u00e3o da API Key utiliza compara\u00e7\u00e3o segura (timing-safe) para evitar ataques de tempo.</p>"},{"location":"operational/api-key/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ul> <li>Nunca versionar a API Key no c\u00f3digo</li> <li>Utilizar vari\u00e1veis de ambiente</li> <li>Rotacionar a chave periodicamente</li> <li>Usar HTTPS em produ\u00e7\u00e3o</li> </ul>"},{"location":"operational/health/","title":"Health Check","text":""},{"location":"operational/health/#health-check","title":"Health Check","text":"<p>O Health Check permite verificar o estado operacional da Modbus API e da conex\u00e3o com o servidor Modbus TCP, sem executar nenhuma opera\u00e7\u00e3o de leitura ou escrita em registradores ou coils.</p> <p>Esse endpoint \u00e9 essencial para: - Monitoramento - Orquestradores (Docker, Kubernetes) - Load balancers - Diagn\u00f3stico r\u00e1pido de falhas</p>"},{"location":"operational/health/#endpoint","title":"Endpoint","text":""},{"location":"operational/health/#status-da-conexao-modbus","title":"Status da Conex\u00e3o Modbus","text":"<pre><code>GET /health/modbus\n</code></pre>"},{"location":"operational/health/#o-que-este-endpoint-verifica","title":"O que este endpoint verifica","text":"Item Descri\u00e7\u00e3o API ativa O servi\u00e7o HTTP est\u00e1 respondendo Cliente Modbus Cliente Modbus inicializado Conectividade Possibilidade de conex\u00e3o com o servidor Modbus Par\u00e2metros Host, porta e Unit ID em uso Estado interno Contadores de falha e atraso de reconex\u00e3o <p>Aten\u00e7\u00e3o</p> <p>Nenhuma escrita ou leitura de dados Modbus \u00e9 realizada.</p>"},{"location":"operational/health/#parametros","title":"Par\u00e2metros","text":"<p>Este endpoint n\u00e3o recebe par\u00e2metros.</p>"},{"location":"operational/health/#resposta-bem-sucedida","title":"Resposta bem-sucedida","text":"<pre><code>{\n  \"ok\": true,\n  \"connected\": true,\n  \"host\": \"127.0.0.1\",\n  \"port\": 502,\n  \"unit_id\": 1,\n  \"failure_count\": 0,\n  \"current_retry_delay\": 0.0\n}\n</code></pre>"},{"location":"operational/health/#campos-da-resposta","title":"Campos da resposta","text":"Campo Tipo Descri\u00e7\u00e3o <code>ok</code> boolean Indica que a API respondeu corretamente <code>connected</code> boolean Indica se a conex\u00e3o Modbus est\u00e1 ativa <code>host</code> string Endere\u00e7o do servidor Modbus <code>port</code> integer Porta Modbus TCP <code>unit_id</code> integer Unit ID configurado <code>failure_count</code> integer N\u00famero de falhas consecutivas de conex\u00e3o <code>current_retry_delay</code> number Delay atual aplicado antes de nova tentativa"},{"location":"operational/health/#exemplos-de-uso","title":"Exemplos de uso","text":""},{"location":"operational/health/#curl","title":"cURL","text":"<pre><code>curl -X GET http://127.0.0.1:8000/health/modbus\n</code></pre>"},{"location":"operational/health/#python","title":"Python","text":"<pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/health/modbus\"\nr = requests.get(url)\n\nprint(r.json())\n</code></pre>"},{"location":"operational/health/#interpretacao-do-status","title":"Interpreta\u00e7\u00e3o do status","text":""},{"location":"operational/health/#api-e-modbus-operacionais","title":"API e Modbus operacionais","text":"<pre><code>{\n  \"connected\": true\n}\n</code></pre> <ul> <li>A API est\u00e1 pronta para leitura e escrita</li> <li>Comunica\u00e7\u00e3o Modbus dispon\u00edvel</li> <li>Opera\u00e7\u00e3o segura</li> </ul>"},{"location":"operational/health/#api-ativa-modbus-indisponivel","title":"API ativa, Modbus indispon\u00edvel","text":"<pre><code>{\n  \"connected\": false\n}\n</code></pre> <ul> <li>API est\u00e1 rodando</li> <li>Servidor Modbus offline ou inacess\u00edvel</li> <li>Escritas e leituras Modbus podem falhar</li> <li>Ideal para acionar alertas</li> </ul>"},{"location":"operational/health/#codigos-http","title":"C\u00f3digos HTTP","text":"C\u00f3digo Quando ocorre <code>200</code> Health check executado com sucesso <code>500</code> Erro interno ao verificar o estado"},{"location":"operational/health/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ul> <li>Consultar o Health antes de opera\u00e7\u00f5es cr\u00edticas</li> <li>Usar este endpoint em monitoramento cont\u00ednuo</li> <li>Integrar com sistemas de alerta</li> <li>N\u00e3o usar Health como substituto de leitura funcional</li> </ul>"},{"location":"operational/health/#observacao-importante","title":"Observa\u00e7\u00e3o Importante","text":"<p>O endpoint de Health n\u00e3o garante que todas as opera\u00e7\u00f5es Modbus ir\u00e3o funcionar, apenas que a conectividade b\u00e1sica est\u00e1 dispon\u00edvel no momento da verifica\u00e7\u00e3o.</p>"},{"location":"operational/http-errors/","title":"HTTP Errors","text":""},{"location":"operational/http-errors/#http-errors","title":"HTTP Errors","text":"<p>A Modbus API utiliza c\u00f3digos HTTP padronizados para indicar erros ocorridos antes, durante ou ap\u00f3s o processamento de uma requisi\u00e7\u00e3o. Esses erros permitem que clientes HTTP (Web, Mobile, SCADA, Scripts) identifiquem rapidamente a causa da falha e reajam corretamente.</p>"},{"location":"operational/http-errors/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>Os erros HTTP s\u00e3o utilizados para indicar:</p> <ul> <li>Falhas de autentica\u00e7\u00e3o</li> <li>Limites de requisi\u00e7\u00e3o excedidos</li> <li>Erros de valida\u00e7\u00e3o de par\u00e2metros</li> <li>Falhas internas do servidor</li> <li>Indisponibilidade de servi\u00e7os</li> </ul>"},{"location":"operational/http-errors/#estrutura-da-resposta-de-erro","title":"Estrutura da Resposta de Erro","text":"<p>Todas as respostas de erro seguem o mesmo formato JSON:</p> <pre><code>{\n  \"detail\": \"Descri\u00e7\u00e3o do erro\"\n}\n</code></pre>"},{"location":"operational/http-errors/#codigos-http-utilizados","title":"C\u00f3digos HTTP Utilizados","text":"C\u00f3digo Nome Quando ocorre <code>400</code> Bad Request Par\u00e2metros inv\u00e1lidos ou inconsistentes <code>401</code> Unauthorized API Key ausente ou inv\u00e1lida <code>403</code> Forbidden Acesso n\u00e3o permitido <code>404</code> Not Found Endpoint inexistente <code>422</code> Unprocessable Entity Erro de valida\u00e7\u00e3o de payload <code>429</code> Too Many Requests Rate limit excedido <code>500</code> Internal Server Error Erro inesperado no servidor <code>503</code> Service Unavailable Servi\u00e7o Modbus indispon\u00edvel"},{"location":"operational/http-errors/#erros-de-autenticacao","title":"Erros de Autentica\u00e7\u00e3o","text":"<p><code>401 \u2013 Unauthorized</code></p> <p>Ocorre quando:</p> <ul> <li>O header X-API-Key n\u00e3o \u00e9 enviado</li> <li>A API Key enviada \u00e9 inv\u00e1lida</li> </ul> <p>Exemplo de resposta:</p> <pre><code>{\n  \"detail\": \"Unauthorized\"\n}\n</code></pre>"},{"location":"operational/http-errors/#erros-de-rate-limit","title":"Erros de Rate Limit","text":"<p><code>429 \u2013 Too Many Requests</code></p> <p>Ocorre quando o cliente excede o n\u00famero permitido de requisi\u00e7\u00f5es na janela de tempo configurada.</p> <p>Exemplo de resposta:</p> <pre><code>{\n  \"detail\": \"Rate limit exceeded\"\n}\n</code></pre>"},{"location":"operational/http-errors/#erros-de-validacao","title":"Erros de Valida\u00e7\u00e3o","text":"<p><code>400 \u2013 Bad Request</code></p> <p>Ocorre quando:</p> <ul> <li>Par\u00e2metros obrigat\u00f3rios n\u00e3o s\u00e3o informados</li> <li>Valores est\u00e3o fora do intervalo permitido</li> <li>Combina\u00e7\u00e3o de par\u00e2metros \u00e9 inv\u00e1lida</li> </ul> <p>Exemplo:</p> <pre><code>{\n  \"detail\": \"Invalid address or count\"\n}\n</code></pre>"},{"location":"operational/http-errors/#_1","title":"HTTP Errors","text":""},{"location":"operational/modbus-connection/","title":"Modbus Connection","text":""},{"location":"operational/modbus-connection/#modbus-connection-operational","title":"Modbus Connection (Operational)","text":"<p>Este documento descreve os endpoints operacionais relacionados ao gerenciamento da conex\u00e3o Modbus TCP mantida pela API.</p> <p>Esses endpoints n\u00e3o realizam leitura nem escrita de dados de processo. Eles existem para opera\u00e7\u00e3o, manuten\u00e7\u00e3o e recupera\u00e7\u00e3o controlada do estado interno da conex\u00e3o Modbus.</p>"},{"location":"operational/modbus-connection/#visao-geral","title":"Vis\u00e3o Geral","text":"Endpoint M\u00e9todo Fun\u00e7\u00e3o <code>/modbus/close</code> POST Fecha explicitamente a conex\u00e3o Modbus <code>/modbus/reconnect</code> POST Fecha e for\u00e7a nova conex\u00e3o Modbus"},{"location":"operational/modbus-connection/#seguranca","title":"Seguran\u00e7a","text":"<p>Autentica\u00e7\u00e3o obrigat\u00f3ria</p> <p>Todos os endpoints deste documento exigem o header <code>X-API-Key</code>.</p> <pre><code>X-API-Key: SUA_API_KEY\n</code></pre>"},{"location":"operational/modbus-connection/#post-modbusclose","title":"POST /modbus/close","text":"<p>Fecha explicitamente a conex\u00e3o Modbus TCP ativa mantida pela API.</p>"},{"location":"operational/modbus-connection/#quando-usar","title":"Quando usar","text":"<ul> <li>Manuten\u00e7\u00e3o programada</li> <li>Reset de estado interno do client Modbus</li> <li>Libera\u00e7\u00e3o expl\u00edcita de recursos</li> <li>Diagn\u00f3stico de falhas de comunica\u00e7\u00e3o</li> </ul>"},{"location":"operational/modbus-connection/#quando-nao-usar","title":"Quando n\u00e3o usar","text":"<ul> <li>Em polling autom\u00e1tico</li> <li>Em ciclos normais de leitura/escrita</li> <li>Como alternativa a retry autom\u00e1tico</li> </ul>"},{"location":"operational/modbus-connection/#requisicao","title":"Requisi\u00e7\u00e3o","text":"<pre><code>POST /modbus/close\n</code></pre>"},{"location":"operational/modbus-connection/#headers","title":"Headers","text":"Header Obrigat\u00f3rio <code>X-API-Key</code> \u2705"},{"location":"operational/modbus-connection/#resposta-de-sucesso","title":"Resposta de Sucesso","text":"<pre><code>{\n  \"ok\": true\n}\n</code></pre>"},{"location":"operational/modbus-connection/#comportamento","title":"Comportamento","text":"<ul> <li>Fecha a conex\u00e3o Modbus ativa (se existir)</li> <li>Opera\u00e7\u00e3o idempotente</li> <li>N\u00e3o remove o client da mem\u00f3ria</li> <li>N\u00e3o abre nova conex\u00e3o automaticamente</li> </ul>"},{"location":"operational/modbus-connection/#erros-possiveis","title":"Erros Poss\u00edveis","text":"C\u00f3digo HTTP Motivo 401 API Key ausente ou inv\u00e1lida 429 Rate limit excedido 500 Falha ao fechar conex\u00e3o"},{"location":"operational/modbus-connection/#exemplo","title":"Exemplo","text":""},{"location":"operational/modbus-connection/#curl","title":"cURL","text":"<pre><code>curl -X POST \"http://127.0.0.1:8000/modbus/close\" \\\n  -H \"X-API-Key: SUA_API_KEY\"\n</code></pre>"},{"location":"operational/modbus-connection/#python","title":"Python","text":"<pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/modbus/close\"\nheaders = {\"X-API-Key\": \"SUA_API_KEY\"}\n\nr = requests.post(url, headers=headers)\nprint(r.json())\n</code></pre>"},{"location":"operational/modbus-connection/#post-modbusreconnect","title":"POST /modbus/reconnect","text":"<p>For\u00e7a a reconex\u00e3o completa com o servidor Modbus TCP.</p> <p>Este endpoint: 1. Fecha a conex\u00e3o atual (se existir) 2. Tenta estabelecer uma nova conex\u00e3o 3. Retorna o estado atualizado da conectividade</p>"},{"location":"operational/modbus-connection/#requisicao_1","title":"Requisi\u00e7\u00e3o","text":"<pre><code>POST /modbus/reconnect\n</code></pre>"},{"location":"operational/modbus-connection/#headers_1","title":"Headers","text":"Header Obrigat\u00f3rio <code>X-API-Key</code> \u2705"},{"location":"operational/modbus-connection/#resposta-de-sucesso_1","title":"Resposta de Sucesso","text":"<pre><code>{\n  \"ok\": true,\n  \"connected\": true,\n  \"host\": \"127.0.0.1\",\n  \"port\": 502,\n  \"unit_id\": 1,\n  \"failure_count\": 0,\n  \"current_retry_delay\": 0.0\n}\n</code></pre>"},{"location":"operational/modbus-connection/#campos-da-resposta","title":"Campos da Resposta","text":"Campo Tipo Descri\u00e7\u00e3o <code>ok</code> boolean Status da requisi\u00e7\u00e3o <code>connected</code> boolean Estado atual da conex\u00e3o Modbus <code>host</code> string Host configurado <code>port</code> integer Porta Modbus <code>unit_id</code> integer Unit ID <code>failure_count</code> integer N\u00famero de falhas consecutivas <code>current_retry_delay</code> number Delay atual de retry (segundos)"},{"location":"operational/modbus-connection/#comportamento_1","title":"Comportamento","text":"<ul> <li>Fecha conex\u00e3o existente antes de reconectar</li> <li>N\u00e3o bloqueia a API se o servidor estiver offline</li> <li>N\u00e3o executa leitura nem escrita de processo</li> <li>Seguro para uso manual e administrativo</li> </ul>"},{"location":"operational/modbus-connection/#erros-possiveis_1","title":"Erros Poss\u00edveis","text":"C\u00f3digo HTTP Motivo 401 API Key ausente ou inv\u00e1lida 429 Rate limit excedido 503 Servidor Modbus indispon\u00edvel"},{"location":"operational/modbus-connection/#exemplo_1","title":"Exemplo","text":""},{"location":"operational/modbus-connection/#curl_1","title":"cURL","text":"<pre><code>curl -X POST \"http://127.0.0.1:8000/modbus/reconnect\" \\\n  -H \"X-API-Key: SUA_API_KEY\"\n</code></pre>"},{"location":"operational/modbus-connection/#python_1","title":"Python","text":"<pre><code>import requests\n\nurl = \"http://127.0.0.1:8000/modbus/reconnect\"\nheaders = {\"X-API-Key\": \"SUA_API_KEY\"}\n\nr = requests.post(url, headers=headers)\nprint(r.json())\n</code></pre>"},{"location":"operational/modbus-connection/#observacoes-operacionais","title":"Observa\u00e7\u00f5es Operacionais","text":"<p>Boas pr\u00e1ticas</p> <ul> <li>Use estes endpoints apenas para opera\u00e7\u00e3o e manuten\u00e7\u00e3o</li> <li>Evite automa\u00e7\u00e3o agressiva</li> <li>Prefira retry autom\u00e1tico interno para falhas transit\u00f3rias</li> <li>Estes endpoints n\u00e3o impactam diretamente o processo industrial</li> </ul>"},{"location":"operational/modbus-errors/","title":"Modbus Errors","text":""},{"location":"operational/modbus-errors/#modbus-errors-operational","title":"Modbus Errors (Operational)","text":"<p>Este documento descreve erros espec\u00edficos relacionados ao protocolo Modbus TCP e como a API os traduz para erros HTTP previs\u00edveis.</p> <p>O objetivo \u00e9 permitir que clientes: - entendam a causa real da falha - reajam corretamente (retry, fallback, alarme) - n\u00e3o assumam sucesso quando o estado Modbus \u00e9 indefinido</p>"},{"location":"operational/modbus-errors/#conceito-importante","title":"Conceito Importante","text":"<p>Erro Modbus \u2260 Erro HTTP</p> <p>O protocolo Modbus n\u00e3o possui sem\u00e2ntica HTTP. A API atua como adaptador, convertendo falhas Modbus em c\u00f3digos HTTP padronizados.</p>"},{"location":"operational/modbus-errors/#categorias-de-erro-modbus","title":"Categorias de Erro Modbus","text":""},{"location":"operational/modbus-errors/#falhas-de-comunicacao","title":"Falhas de Comunica\u00e7\u00e3o","text":"<p>Incluem: - servidor Modbus offline - timeout de resposta - conex\u00e3o TCP quebrada - falha de reconex\u00e3o</p> <p>Comportamento da API - Retorna <code>503 Service Unavailable</code> - Nenhuma escrita \u00e9 assumida como conclu\u00edda - Estado interno permanece consistente</p> <pre><code>{\n  \"detail\": \"Falha de comunica\u00e7\u00e3o com servidor Modbus\"\n}\n</code></pre>"},{"location":"operational/modbus-errors/#endereco-ou-quantidade-invalida","title":"Endere\u00e7o ou Quantidade Inv\u00e1lida","text":"<p>Incluem: - endere\u00e7o fora da faixa do dispositivo - leitura/escrita al\u00e9m do limite permitido - contagem excessiva de coils/registers</p> <p>Comportamento da API - Retorna <code>422 Unprocessable Entity</code> - Opera\u00e7\u00e3o Modbus n\u00e3o \u00e9 executada</p> <pre><code>{\n  \"detail\": \"Endere\u00e7o ou quantidade inv\u00e1lida\"\n}\n</code></pre>"},{"location":"operational/modbus-errors/#operacao-nao-permitida","title":"Opera\u00e7\u00e3o N\u00e3o Permitida","text":"<p>Incluem: - tentativa de escrita em <code>Discrete Inputs</code> - escrita sem autentica\u00e7\u00e3o - acesso a endpoint restrito</p> <p>Comportamento da API - Retorna <code>401 Unauthorized</code> ou <code>403 Forbidden</code> - Tentativa \u00e9 logada como WARNING</p> <pre><code>{\n  \"detail\": \"Opera\u00e7\u00e3o n\u00e3o permitida\"\n}\n</code></pre>"},{"location":"operational/modbus-errors/#erros-de-escrita","title":"Erros de Escrita","text":"<p>Incluem: - falha ao escrever coil/register - retorno Modbus indefinido (<code>None</code>) - erro interno do client Modbus</p> <p>Comportamento da API - Retorna <code>503 Service Unavailable</code> - Escrita nunca \u00e9 assumida como sucesso</p> <pre><code>{\n  \"detail\": \"Falha ao escrever dados Modbus\"\n}\n</code></pre>"},{"location":"operational/modbus-errors/#erros-de-tipo-de-dado-typed-registers","title":"Erros de Tipo de Dado (Typed Registers)","text":"<p>Incluem: - overflow de inteiro - tipo incompat\u00edvel - <code>NaN</code> ou <code>Infinity</code> em float - endian inv\u00e1lido</p> <p>Comportamento da API - Retorna <code>422 Unprocessable Entity</code> - Nenhuma opera\u00e7\u00e3o Modbus \u00e9 executada</p> <pre><code>{\n  \"detail\": \"Tipo de dado inv\u00e1lido ou fora do range\"\n}\n</code></pre>"},{"location":"operational/modbus-errors/#mapeamento-resumido","title":"Mapeamento Resumido","text":"Situa\u00e7\u00e3o C\u00f3digo HTTP Falha de comunica\u00e7\u00e3o <code>503</code> Timeout <code>503</code> Endere\u00e7o inv\u00e1lido <code>422</code> Quantidade inv\u00e1lida <code>422</code> Escrita n\u00e3o autorizada <code>401 / 403</code> Tipo de dado inv\u00e1lido <code>422</code> Erro interno inesperado <code>500</code>"},{"location":"operational/modbus-errors/#boas-praticas-para-clientes","title":"Boas Pr\u00e1ticas para Clientes","text":"<p>Recomenda\u00e7\u00f5es</p> <ul> <li>Trate <code>503</code> como erro transit\u00f3rio</li> <li>Use retry com backoff exponencial</li> <li>Nunca assuma escrita bem-sucedida sem <code>200 OK</code></li> <li>N\u00e3o fa\u00e7a polling agressivo ap\u00f3s falhas</li> <li>Gere alarmes ap\u00f3s falhas repetidas</li> </ul>"},{"location":"operational/modbus-errors/#relacao-com-outros-documentos","title":"Rela\u00e7\u00e3o com Outros Documentos","text":"<ul> <li>Consulte HTTP Errors para sem\u00e2ntica HTTP geral</li> <li>Consulte Rate Limit para erros de limita\u00e7\u00e3o</li> <li>Consulte Modbus Connection para recupera\u00e7\u00e3o manual</li> </ul>"},{"location":"operational/rate-limit/","title":"Rate Limit","text":""},{"location":"operational/rate-limit/#rate-limit","title":"Rate Limit","text":"<p>A Modbus API utiliza Rate Limiting para proteger o servi\u00e7o contra abuso, uso excessivo e ataques automatizados, garantindo estabilidade e previsibilidade para todos os clientes. O controle de requisi\u00e7\u00f5es \u00e9 aplicado por cliente e por janela de tempo, atuando antes da l\u00f3gica Modbus.</p>"},{"location":"operational/rate-limit/#visao-geral","title":"Vis\u00e3o Geral","text":"<ul> <li>Limita o n\u00famero de requisi\u00e7\u00f5es por cliente</li> <li>Evita sobrecarga do servidor e do CLP</li> <li>Protege contra ataques de for\u00e7a bruta</li> <li>Atua antes da l\u00f3gica Modbus (camada HTTP)</li> </ul>"},{"location":"operational/rate-limit/#como-funciona","title":"Como Funciona","text":"<p>O Rate Limit \u00e9 aplicado na camada HTTP, antes de qualquer acesso ao barramento Modbus.</p> <p>Cada cliente pode realizar apenas um n\u00famero limitado de requisi\u00e7\u00f5es dentro de um intervalo de tempo definido.</p> <p>Quando o limite \u00e9 atingido:</p> <ul> <li>As requisi\u00e7\u00f5es excedentes s\u00e3o bloqueadas</li> <li>O CLP n\u00e3o \u00e9 acessado</li> <li>O servidor retorna erro HTTP apropriado</li> </ul>"},{"location":"operational/rate-limit/#criterio-de-identificacao","title":"Crit\u00e9rio de Identifica\u00e7\u00e3o","text":"<p>O controle de requisi\u00e7\u00f5es pode ser baseado em:</p> Crit\u00e9rio Descri\u00e7\u00e3o Endere\u00e7o IP Limite por origem da requisi\u00e7\u00e3o API Key Limite associado \u00e0 chave IP + API Key Estrat\u00e9gia combinada (recomendada)"},{"location":"operational/rate-limit/#endpoints-afetados","title":"Endpoints Afetados","text":"<p>O Rate Limit \u00e9 aplicado a todos os endpoints da API.</p> Endpoint M\u00e9todo Sujeito a Rate Limit <code>/modbus/coil</code> <code>GET</code> / <code>PUT</code> <code>/modbus/coils</code> <code>GET</code> / <code>PUT</code> <code>/modbus/discrete-inputs</code> <code>GET</code> <code>/modbus/holding-registers</code> <code>GET</code> / <code>PUT</code>"},{"location":"operational/rate-limit/#resposta-ao-exceder-o-limite","title":"Resposta ao Exceder o Limite","text":"<p>Quando o cliente ultrapassa o limite permitido, a API responde com:</p> Item Valor C\u00f3digo HTTP <code>429 Too Many Requests</code> Corpo JSON Acesso Modbus N\u00e3o executado <p>Exemplo de resposta:</p> <pre><code>{\n  \"detail\": \"Rate limit exceeded\"\n}\n</code></pre> <p>Impacto Operacional</p> <p>Requisi\u00e7\u00f5es bloqueadas n\u00e3o chegam ao CLP, evitando sobrecarga e comportamento imprevis\u00edvel em dispositivos industriais.</p>"},{"location":"operational/rate-limit/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ul> <li>Evitar polling agressivo</li> <li>Centralizar leituras quando poss\u00edvel</li> <li>Utilizar intervalos fixos e controlados</li> <li>Tratar respostas 429 no cliente</li> <li>Ajustar limites conforme o tipo de aplica\u00e7\u00e3o (Web, SCADA, Mobile)</li> </ul> <p>Seguran\u00e7a e Estabilidade</p> <p>O Rate Limit protege n\u00e3o apenas a API, mas tamb\u00e9m o barramento Modbus e o CLP, garantindo opera\u00e7\u00e3o segura em ambientes industriais.</p>"},{"location":"overview/architecture/","title":"Arquitetura","text":""},{"location":"overview/architecture/#arquitetura","title":"Arquitetura","text":"<p>Esta se\u00e7\u00e3o descreve a arquitetura interna da Modbus API, explicando como os componentes interagem entre si para fornecer uma comunica\u00e7\u00e3o robusta, segura e padronizada com dispositivos Modbus TCP.</p>"},{"location":"overview/architecture/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>A Modbus API atua como uma camada intermedi\u00e1ria entre clientes HTTP e dispositivos Modbus TCP.</p> <p>O cliente n\u00e3o se comunica diretamente com o protocolo Modbus. Em vez disso, todas as opera\u00e7\u00f5es passam pela API, que \u00e9 respons\u00e1vel por:</p> <ul> <li>Autentica\u00e7\u00e3o e controle de acesso</li> <li>Valida\u00e7\u00e3o de dados</li> <li>Gerenciamento de conex\u00e3o Modbus</li> <li>Convers\u00e3o de tipos e endianess</li> <li>Tratamento de falhas de comunica\u00e7\u00e3o</li> </ul>"},{"location":"overview/architecture/#fluxo-de-comunicacao","title":"Fluxo de Comunica\u00e7\u00e3o","text":"<pre><code>sequenceDiagram\n    participant Client as Cliente HTTP\n    participant API as FastAPI\n    participant MB as ModbusTCPResiliente\n    participant PLC as CLP / Dispositivo Modbus\n\n    Client-&gt;&gt;API: Requisi\u00e7\u00e3o HTTP (JSON)\n    API-&gt;&gt;API: Valida\u00e7\u00e3o (API Key, Rate Limit, Payload)\n    API-&gt;&gt;MB: Opera\u00e7\u00e3o Modbus (read/write)\n    MB-&gt;&gt;PLC: Comunica\u00e7\u00e3o Modbus TCP\n    PLC--&gt;&gt;MB: Resposta Modbus\n    MB--&gt;&gt;API: Dados convertidos / Erro tratado\n    API--&gt;&gt;Client: Resposta HTTP (JSON)</code></pre>"},{"location":"overview/architecture/#componentes-principais","title":"Componentes Principais","text":"<ol> <li> <p>Cliente HTTP</p> <p>Pode ser:</p> <ul> <li>Aplica\u00e7\u00e3o Web</li> <li>Aplica\u00e7\u00e3o Mobile</li> <li>Sistema SCADA</li> <li>Script Python</li> <li>Gateway industrial</li> </ul> <p>Responsabilidades:</p> <ul> <li>Enviar requisi\u00e7\u00f5es HTTP</li> <li>Tratar respostas JSON</li> <li>N\u00e3o precisa conhecer Modbus</li> </ul> </li> <li> <p>FastAPI (Camada HTTP)</p> <p>Respons\u00e1vel por:</p> <ul> <li>Expor endpoints REST</li> <li>Validar par\u00e2metros e payloads (Pydantic)</li> <li>Autenticar requisi\u00e7\u00f5es via API Key</li> <li>Aplicar rate limit</li> <li>Padronizar respostas HTTP</li> </ul> <p>Exemplo de responsabilidades no c\u00f3digo:</p> <ul> <li>validate_api_key</li> <li>SlowAPI</li> <li>Pydantic Models</li> <li>HTTPException</li> </ul> </li> <li> <p>ModbusTCPResiliente (Camada Modbus)</p> <p>Classe respons\u00e1vel por toda a l\u00f3gica Modbus TCP.</p> <p>Principais fun\u00e7\u00f5es:</p> <ul> <li>Abrir e manter conex\u00e3o Modbus</li> <li>Detectar conex\u00e3o perdida</li> <li>Reconectar automaticamente</li> <li>Aplicar backoff exponencial</li> <li>Executar leituras e escritas seguras</li> <li>Converter tipos de dados (INT / UINT / FLOAT)</li> <li>Tratar endianess</li> <li>Cachear endere\u00e7os inv\u00e1lidos</li> </ul> <p>Essa camada encapsula completamente o protocolo Modbus.</p> </li> <li> <p>Dispositivo Modbus TCP</p> <p>Pode ser:</p> <ul> <li>CLP</li> <li>Inversor de frequ\u00eancia</li> <li>Medidor de energia</li> <li>Sensor industrial</li> <li>Simulador Modbus</li> </ul> <p>A API se comunica utilizando:</p> <ul> <li>Modbus TCP</li> <li>Porta padr\u00e3o 502</li> <li>Unit ID configur\u00e1vel</li> </ul> </li> </ol>"},{"location":"overview/architecture/#gerenciamento-de-conexao","title":"Gerenciamento de Conex\u00e3o","text":"<p>A conex\u00e3o Modbus \u00e9:</p> <ul> <li>Criada no startup da aplica\u00e7\u00e3o</li> <li>Reutilizada entre requisi\u00e7\u00f5es</li> <li>Monitorada continuamente</li> </ul> <p>Se ocorrer falha:</p> <ul> <li>A conex\u00e3o \u00e9 encerrada</li> <li>O tempo de retry aumenta (backoff)</li> <li>Uma nova tentativa \u00e9 realizada automaticamente</li> </ul> <p>Isso evita:</p> <ul> <li>Bloqueios da API</li> <li>Falhas permanentes</li> <li>Loops agressivos de reconex\u00e3o</li> </ul>"},{"location":"overview/architecture/#cache-de-enderecos-invalidos","title":"Cache de Endere\u00e7os Inv\u00e1lidos","text":"<p>Quando o dispositivo retorna exce\u00e7\u00f5es como:</p> <ul> <li>Illegal Data Address</li> </ul> <p>A API:</p> <ul> <li>Marca o endere\u00e7o como inv\u00e1lido</li> <li>Evita novas tentativas por um per\u00edodo configur\u00e1vel</li> <li>Reduz carga no CLP</li> </ul> <p>Melhora o tempo de resposta da API</p>"},{"location":"overview/architecture/#conversao-de-tipos-e-endianess","title":"Convers\u00e3o de Tipos e Endianess","text":"<p>A API oferece uma camada de convers\u00e3o autom\u00e1tica:</p> <p>Quantidade correta de registradores</p> <p>Convers\u00e3o para:</p> <ul> <li>Inteiros com ou sem sinal</li> <li>Ponto flutuante (32 e 64 bits)</li> <li>Controle total de endianess</li> </ul> <p>Isso elimina erros comuns em integra\u00e7\u00f5es Modbus.</p>"},{"location":"overview/architecture/#seguranca-na-arquitetura","title":"Seguran\u00e7a na Arquitetura","text":"<p>A seguran\u00e7a \u00e9 aplicada antes de qualquer acesso Modbus:</p> <ul> <li>API Key obrigat\u00f3ria</li> <li>Compara\u00e7\u00e3o segura contra ataques de timing</li> <li>Rate limit configur\u00e1vel</li> <li>CORS controlado</li> </ul> <p>Nenhuma opera\u00e7\u00e3o Modbus \u00e9 executada sem valida\u00e7\u00e3o pr\u00e9via.</p>"},{"location":"overview/architecture/#tolerancia-a-falhas","title":"Toler\u00e2ncia a Falhas","text":"<p>A arquitetura foi pensada para ambientes industriais:</p> <ul> <li>Falha de rede</li> <li>CLP offline</li> <li>Timeout</li> <li>Endere\u00e7o inv\u00e1lido</li> <li>Convers\u00e3o incorreta de dados</li> </ul> <p>Em todos os casos: * O erro \u00e9 tratado * A API n\u00e3o trava * O cliente recebe resposta clara</p>"},{"location":"overview/architecture/#conclusao","title":"Conclus\u00e3o","text":"<p>Esta arquitetura permite que sistemas modernos consumam dados industriais Modbus TCP de forma:</p> <ul> <li>Segura</li> <li>Escal\u00e1vel</li> <li>Resiliente</li> <li>Padronizada</li> </ul> <p>Sem a complexidade do protocolo Modbus no lado do cliente.</p>"},{"location":"overview/best-practices/","title":"Limita\u00e7\u00f5es e Boas Pr\u00e1ticas","text":""},{"location":"overview/best-practices/#limitacoes-e-boas-praticas","title":"Limita\u00e7\u00f5es e Boas Pr\u00e1ticas","text":"<p>Esta p\u00e1gina descreve limita\u00e7\u00f5es t\u00e9cnicas e boas pr\u00e1ticas recomendadas para o uso seguro e previs\u00edvel da Modbus API em ambientes industriais.</p> <p>Seguir estas orienta\u00e7\u00f5es \u00e9 essencial para proteger o CLP, o barramento Modbus e o processo f\u00edsico.</p>"},{"location":"overview/best-practices/#principio-fundamental","title":"Princ\u00edpio Fundamental","text":"<p>O CLP nunca deve pagar o pre\u00e7o de um cliente mal comportado.</p> <p>Toda decis\u00e3o de uso da API deve priorizar: - Estabilidade do processo - Previsibilidade operacional - Seguran\u00e7a el\u00e9trica, mec\u00e2nica e l\u00f3gica</p>"},{"location":"overview/best-practices/#limitacoes-tecnicas","title":"Limita\u00e7\u00f5es T\u00e9cnicas","text":""},{"location":"overview/best-practices/#limites-de-leitura","title":"Limites de Leitura","text":"Recurso Limite Coils at\u00e9 2000 bits por requisi\u00e7\u00e3o Discrete Inputs at\u00e9 2000 bits por requisi\u00e7\u00e3o Holding Registers limites t\u00edpicos Modbus (\u2248125 regs por leitura) Input Registers limites t\u00edpicos Modbus (\u2248125 regs por leitura) <p>Leituras acima desses valores s\u00e3o rejeitadas para evitar: - Timeouts - Fragmenta\u00e7\u00e3o excessiva - Sobrecarga do CLP</p>"},{"location":"overview/best-practices/#limites-de-escrita","title":"Limites de Escrita","text":"<ul> <li>Escrita em coils e holding registers \u00e9 explicitamente limitada</li> <li>Escritas em massa devem ser evitadas</li> <li>Escrita c\u00edclica (polling com PUT) n\u00e3o \u00e9 permitida</li> </ul>"},{"location":"overview/best-practices/#rate-limit","title":"Rate Limit","text":"<ul> <li>Todos os endpoints s\u00e3o protegidos por rate limit</li> <li>O limite atua antes de qualquer acesso ao Modbus</li> <li>Requisi\u00e7\u00f5es excedentes n\u00e3o chegam ao CLP</li> </ul> <p>Consulte a p\u00e1gina Rate Limit para detalhes.</p>"},{"location":"overview/best-practices/#boas-praticas-de-leitura","title":"Boas Pr\u00e1ticas de Leitura","text":""},{"location":"overview/best-practices/#prefira-leituras-agregadas","title":"Prefira leituras agregadas","text":"<p>Ao inv\u00e9s de m\u00faltiplas leituras pequenas:</p> <pre><code>GET coil 0\nGET coil 1\nGET coil 2\n</code></pre> <pre><code>GET coils addr=0 count=3\n</code></pre>"},{"location":"overview/best-practices/#evite-polling-agressivo","title":"Evite polling agressivo","text":"<ul> <li>Leituras cont\u00ednuas devem ter intervalo controlado</li> <li>Intervalos muito curtos causam:</li> <li>Sobrecarga de CPU no CLP</li> <li>Lat\u00eancia</li> <li>Perda de pacotes</li> </ul> <p>Em geral, 100\u2013500 ms \u00e9 suficiente para supervis\u00e3o.</p>"},{"location":"overview/best-practices/#boas-praticas-de-escrita","title":"Boas Pr\u00e1ticas de Escrita","text":""},{"location":"overview/best-practices/#escrita-nao-e-supervisao","title":"Escrita n\u00e3o \u00e9 supervis\u00e3o","text":"<ul> <li>Escrita deve ser evento, n\u00e3o loop</li> <li>Nunca use escrita como mecanismo de controle cont\u00ednuo</li> </ul>"},{"location":"overview/best-practices/#sempre-valide-antes-de-escrever","title":"Sempre valide antes de escrever","text":"<p>Antes de qualquer escrita: 1. Consulte o Health Check 2. Valide limites de valor 3. Confirme se o registrador \u00e9 documentado</p>"},{"location":"overview/best-practices/#use-typed-registers","title":"Use Typed Registers","text":"<p>Evite escrita manual de m\u00faltiplos registers.</p> <pre><code>Escrever words manualmente\n</code></pre> <pre><code>PUT /modbus/holding-registers/typed\n</code></pre> <p>Typed Registers: - Evitam erros de endianness - Garantem faixa v\u00e1lida de valores - Reduzem risco operacional</p>"},{"location":"overview/best-practices/#separacao-de-responsabilidades","title":"Separa\u00e7\u00e3o de Responsabilidades","text":""},{"location":"overview/best-practices/#leitura-escrita","title":"Leitura \u2260 Escrita","text":"<ul> <li>Leitura \u00e9 aberta por padr\u00e3o</li> <li>Escrita exige autentica\u00e7\u00e3o (<code>X-API-Key</code>)</li> <li>Clientes devem separar claramente essas responsabilidades</li> </ul>"},{"location":"overview/best-practices/#nunca-escreva-em-input-registers","title":"Nunca escreva em Input Registers","text":"<ul> <li>Input Registers s\u00e3o somente leitura</li> <li>Escrita neles \u00e9 conceitualmente incorreta</li> <li>A API bloqueia esse tipo de opera\u00e7\u00e3o</li> </ul>"},{"location":"overview/best-practices/#uso-do-health-check","title":"Uso do Health Check","text":"<ul> <li>Sempre consulte o Health antes de comandos cr\u00edticos</li> <li>Health n\u00e3o executa escrita nem leitura funcional</li> <li>Health indica apenas conectividade b\u00e1sica</li> </ul>"},{"location":"overview/best-practices/#tratamento-de-falhas","title":"Tratamento de Falhas","text":""},{"location":"overview/best-practices/#nunca-assuma-sucesso","title":"Nunca assuma sucesso","text":"<ul> <li>Se a API retornar erro (<code>4xx</code> / <code>5xx</code>), assuma falha</li> <li>Nunca continue o fluxo como se a escrita tivesse ocorrido</li> </ul>"},{"location":"overview/best-practices/#trate-503-service-unavailable","title":"Trate <code>503 Service Unavailable</code>","text":"<p>Esse erro indica: - CLP offline - Timeout - Falha de comunica\u00e7\u00e3o</p> <p>O cliente deve: - Aguardar - Tentar novamente ap\u00f3s intervalo - Alertar operador, se necess\u00e1rio</p>"},{"location":"overview/best-practices/#seguranca","title":"Seguran\u00e7a","text":"<ul> <li>Nunca exponha a API Key no frontend</li> <li>Use HTTPS em produ\u00e7\u00e3o</li> <li>Restrinja CORS ao m\u00ednimo necess\u00e1rio</li> <li>Registre e monitore escritas</li> </ul>"},{"location":"overview/modbus-concepts/","title":"Conceitos Modbus","text":""},{"location":"overview/modbus-concepts/#conceitos-modbus","title":"Conceitos Modbus","text":"<p>Esta se\u00e7\u00e3o apresenta os conceitos fundamentais do protocolo Modbus e como eles s\u00e3o aplicados na Modbus API, abstraindo detalhes de baixo n\u00edvel e expondo uma interface HTTP segura, tipada e padronizada.</p>"},{"location":"overview/modbus-concepts/#o-que-e-modbus","title":"O que \u00e9 Modbus","text":"<p>Modbus \u00e9 um protocolo industrial amplamente utilizado para comunica\u00e7\u00e3o entre dispositivos de automa\u00e7\u00e3o, como:</p> <ul> <li>CLPs</li> <li>IHMs</li> <li>Inversores de frequ\u00eancia</li> <li>Sensores</li> <li>Medidores de energia</li> </ul> <p>Info</p> <p>A Modbus API utiliza Modbus TCP, onde a comunica\u00e7\u00e3o ocorre sobre TCP/IP, normalmente na porta 502.</p>"},{"location":"overview/modbus-concepts/#modelo-clienteservidor","title":"Modelo Cliente\u2013Servidor","text":"<p>No contexto do Modbus TCP:</p> Papel Descri\u00e7\u00e3o Cliente (Master) Inicia requisi\u00e7\u00f5es Modbus Servidor (Slave) Responde \u00e0s requisi\u00e7\u00f5es <p>Na arquitetura deste projeto:</p> Camada Fun\u00e7\u00e3o Modbus API Cliente Modbus + Servidor HTTP CLP / Dispositivo Servidor Modbus TCP <p>A API atua como um gateway, permitindo que sistemas modernos se comuniquem com dispositivos industriais legados.</p>"},{"location":"overview/modbus-concepts/#tabelas-modbus-memoria","title":"Tabelas Modbus (Mem\u00f3ria)","text":"<p>O protocolo Modbus define quatro tabelas principais, cada uma com prop\u00f3sito e regras pr\u00f3prias.</p> Tabela Tipo Acesso Uso Coils Bit Read/Write Sa\u00eddas digitais Discrete Inputs Bit Only Read Entradas digitais Holding Registers 16 bits Read/Write Registradores gerais Input Registers 16 bits Only Read Registradores de leitura <p>A Modbus API exp\u00f5e endpoints REST separados para cada uma dessas tabelas.</p>"},{"location":"overview/modbus-concepts/#enderecamento-0-based","title":"Endere\u00e7amento (0-based)","text":"<p>Nesta API, todos os endere\u00e7os s\u00e3o 0-based.</p> Endere\u00e7o Informado Significado addr = 0 Primeiro registrador ou coil addr = 1 Segundo registrador ou coil <p>Aten\u00e7\u00e3o</p> <p>Alguns fabricantes utilizam documenta\u00e7\u00e3o 1-based. Ajuste o endere\u00e7o conforme necess\u00e1rio.</p>"},{"location":"overview/modbus-concepts/#limites-praticos-do-protocolo","title":"Limites Pr\u00e1ticos do Protocolo","text":"<p>Embora o protocolo permita leituras extensas, existem limites pr\u00e1ticos para evitar falhas de comunica\u00e7\u00e3o.</p> Opera\u00e7\u00e3o Limite Leitura de Coils at\u00e9 2000 bits Leitura de Registers at\u00e9 125 registers Escrita m\u00faltipla at\u00e9 123 registers <p>Esses limites seguem boas pr\u00e1ticas industriais e evitam timeouts e sobrecarga do dispositivo.</p>"},{"location":"overview/modbus-concepts/#tipos-de-dados-estendidos-typed-registers","title":"Tipos de Dados Estendidos (Typed Registers)","text":"<p>O Modbus trabalha nativamente com registradores de 16 bits, mas a Modbus API adiciona uma camada de interpreta\u00e7\u00e3o tipada.</p> Tipo Bits Registradores utilizados <code>int16</code> / <code>uint16</code> 16 1 <code>int32</code> / <code>uint32</code> 32 2 <code>int64</code> / <code>uint64</code> 64 4 <code>float32</code> 32 2 <code>float64</code> 64 4 <p>Esses tipos s\u00e3o definidos via o enum ModbusDataType e tratados automaticamente pela API.</p>"},{"location":"overview/modbus-concepts/#endianness-ordem-de-words-e-bytes","title":"Endianness (Ordem de Words e Bytes)","text":"<p>Para tipos maiores que 16 bits, a ordem dos dados pode variar entre fabricantes.</p> <p>A API suporta explicitamente:</p> Endian Descri\u00e7\u00e3o <code>be</code> Big-endian (padr\u00e3o Modbus) <code>le</code> Little-endian (word swap) <code>be_swap</code> Big-endian com byte swap <code>le_swap</code> Little-endian com byte swap <p>Boas pr\u00e1ticas</p> <ul> <li>Para a maioria dos CLPs, utilize <code>be</code></li> <li>Consulte sempre o manual do fabricante</li> <li>Para tipos de 16 bits (<code>int16</code>, <code>uint16</code>), o endianness \u00e9 ignorado</li> </ul>"},{"location":"overview/modbus-concepts/#conversao-de-dados","title":"Convers\u00e3o de Dados","text":"<p>A convers\u00e3o entre registradores Modbus e valores tipados \u00e9 feita automaticamente pela camada:</p> <p>ModbusTCPResiliente:</p> <ul> <li>Combinar registradores</li> <li>Aplicar endianness</li> <li>Converter para inteiro ou float</li> <li>Validar tamanho e tipo</li> </ul> <p>Camada central</p> <p>Toda convers\u00e3o e valida\u00e7\u00e3o Modbus ocorre exclusivamente nesta camada. Falhas nessa etapa geram erros expl\u00edcitos, evitando dados inconsistentes.</p>"},{"location":"overview/modbus-concepts/#tratamento-de-erros-modbus","title":"Tratamento de Erros Modbus","text":"<p>A API diferencia claramente os tipos de erro, permitindo respostas HTTP coerentes.</p> Categoria Exemplo Erro de Conex\u00e3o Timeout, CLP offline Erro de Protocolo Illegal Data Address Erro de Leitura Falha ao ler registradores Erro de Escrita Falha ao escrever Erro de Convers\u00e3o Tipo ou endianness inv\u00e1lido <p>Mapeamento HTTP</p> <p>Todos os erros Modbus s\u00e3o convertidos em c\u00f3digos HTTP apropriados (<code>4xx</code> para erro de requisi\u00e7\u00e3o, <code>5xx</code> para falhas internas ou de comunica\u00e7\u00e3o).</p>"},{"location":"overview/modbus-concepts/#por-que-abstrair-modbus-com-http","title":"Por que abstrair Modbus com HTTP?","text":"<p>Essa arquitetura permite:</p> Benef\u00edcio Descri\u00e7\u00e3o Integra\u00e7\u00e3o moderna IA, Web, Mobile, SCADA, Dashboards Seguran\u00e7a API Key + Rate limit Padroniza\u00e7\u00e3o JSON + HTTP Manuten\u00e7\u00e3o Sem impacto direto no CLP Escalabilidade Evolu\u00e7\u00e3o independente <p>A Modbus API atua como uma fronteira segura e moderna para sistemas industriais.</p>"},{"location":"overview/quick-start/","title":"Quick Start","text":""},{"location":"overview/quick-start/#quick-start","title":"Quick Start","text":"<p>Este guia apresenta o caminho mais r\u00e1pido para come\u00e7ar a usar a Modbus API com seguran\u00e7a, desde a verifica\u00e7\u00e3o de sa\u00fade at\u00e9 a primeira leitura e escrita.</p> <p>O objetivo \u00e9 permitir que voc\u00ea valide a API em minutos, sem precisar ler toda a documenta\u00e7\u00e3o inicialmente.</p>"},{"location":"overview/quick-start/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<ul> <li>API em execu\u00e7\u00e3o (<code>uvicorn main:app</code> ou servi\u00e7o equivalente)</li> <li>Servidor Modbus TCP configurado e acess\u00edvel</li> <li>(Opcional) API Key para opera\u00e7\u00f5es de escrita</li> </ul>"},{"location":"overview/quick-start/#1-verifique-a-saude-da-api-e-do-modbus","title":"1\ufe0f\u20e3 Verifique a sa\u00fade da API e do Modbus","text":"<p>Antes de qualquer opera\u00e7\u00e3o funcional, valide o estado do sistema.</p> <pre><code>curl -X GET http://127.0.0.1:8000/health/modbus\n</code></pre> <p>Resposta esperada:</p> <pre><code>{\n  \"ok\": true,\n  \"connected\": true\n}\n</code></pre> <p>\u2714\ufe0f Se <code>connected = true</code>, a API est\u00e1 pronta para operar.</p>"},{"location":"overview/quick-start/#2-leia-um-discrete-input-entrada-digital","title":"2\ufe0f\u20e3 Leia um Discrete Input (entrada digital)","text":"<p>Discrete Inputs s\u00e3o somente leitura e ideais para o primeiro teste.</p> <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/discrete-inputs?addr=0&amp;count=1\"\n</code></pre> <p>Resposta t\u00edpica:</p> <pre><code>{\n  \"addr\": 0,\n  \"count\": 1,\n  \"values\": [true]\n}\n</code></pre>"},{"location":"overview/quick-start/#3-leia-uma-coil-saida-digital","title":"3\ufe0f\u20e3 Leia uma Coil (sa\u00edda digital)","text":"<pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/coils?addr=0&amp;count=1\"\n</code></pre>"},{"location":"overview/quick-start/#4-escreva-uma-coil-requer-api-key","title":"4\ufe0f\u20e3 Escreva uma Coil (requer API Key)","text":"<p>\u26a0\ufe0f Escrita altera o estado do processo.</p> <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/coil?addr=0\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": true}'\n</code></pre> <p>Resposta:</p> <pre><code>{\n  \"ok\": true\n}\n</code></pre>"},{"location":"overview/quick-start/#5-leia-um-valor-tipado-input-register","title":"5\ufe0f\u20e3 Leia um valor tipado (Input Register)","text":"<p>Leitura de um valor anal\u00f3gico interpretado automaticamente.</p> <pre><code>curl -X GET \"http://127.0.0.1:8000/modbus/registers/typed?table=input&amp;addr=10&amp;dtype=float32&amp;endian=be\"\n</code></pre> <p>Resposta:</p> <pre><code>{\n  \"table\": \"input\",\n  \"addr\": 10,\n  \"dtype\": \"float32\",\n  \"endian\": \"be\",\n  \"value\": 23.75\n}\n</code></pre>"},{"location":"overview/quick-start/#6-escreva-um-valor-tipado-holding-register","title":"6\ufe0f\u20e3 Escreva um valor tipado (Holding Register)","text":"<p>\u26a0\ufe0f Use apenas para par\u00e2metros documentados do CLP.</p> <pre><code>curl -X PUT \"http://127.0.0.1:8000/modbus/holding-registers/typed?addr=20&amp;dtype=float32&amp;endian=be\" \\\n  -H \"X-API-Key: SUA_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"value\": 75.0}'\n</code></pre>"},{"location":"overview/quick-start/#boas-praticas-essenciais","title":"Boas Pr\u00e1ticas Essenciais","text":"<ul> <li>Sempre consulte o Health Check antes de escritas</li> <li>Evite polling agressivo</li> <li>Separe leitura e escrita no cliente</li> <li>Use Typed Registers para evitar erros de endianness</li> <li>Nunca escreva em Input Registers</li> </ul>"},{"location":"overview/quick-start/#proximos-passos","title":"Pr\u00f3ximos Passos","text":"<ul> <li>Leia Conceitos Modbus para entender endere\u00e7amento e tipos</li> <li>Consulte a API Reference para detalhes completos</li> <li>Veja Examples para fluxos mais elaborados</li> <li>Em produ\u00e7\u00e3o, utilize HTTPS e controle de acesso</li> </ul> <p>Este Quick Start \u00e9 intencionalmente curto. Ele n\u00e3o substitui a documenta\u00e7\u00e3o completa, apenas acelera o primeiro contato.</p>"},{"location":"setup/environment/","title":"Environment (.env)","text":""},{"location":"setup/environment/#environment-variables-env","title":"Environment Variables (.env)","text":"<p>A Modbus API \u00e9 configurada exclusivamente por vari\u00e1veis de ambiente, seguindo boas pr\u00e1ticas de seguran\u00e7a, portabilidade e opera\u00e7\u00e3o em ambientes industriais (OT/IT).</p> <p>O uso de um arquivo <code>.env</code> \u00e9 fortemente recomendado, especialmente em ambientes de desenvolvimento, testes e produ\u00e7\u00e3o controlada.</p> <p>Importante</p> <p>O arquivo <code>.env</code> n\u00e3o deve ser versionado em reposit\u00f3rios p\u00fablicos ou privados. Utilize <code>.gitignore</code> para garantir que ele n\u00e3o seja inclu\u00eddo no controle de vers\u00e3o.</p>"},{"location":"setup/environment/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>As vari\u00e1veis de ambiente permitem configurar:</p> <ul> <li>Autentica\u00e7\u00e3o da API (API Key)</li> <li>Conex\u00e3o Modbus TCP</li> <li>Par\u00e2metros de timeout e teste de conectividade</li> <li>Comportamento de logging</li> </ul> <p>A API carrega essas vari\u00e1veis automaticamente no startup.</p>"},{"location":"setup/environment/#exemplo-completo-de-arquivo-env","title":"Exemplo Completo de Arquivo <code>.env</code>","text":"<pre><code># ==========================================\n# Modbus API - Environment Configuration\n# ==========================================\n\n# ------------------------------------------\n# API Security\n# ------------------------------------------\n# Chave usada para autenticar opera\u00e7\u00f5es de escrita\nMODBUS_API_KEY=CHANGE_ME_SUPER_SECRET_KEY\n\n# ------------------------------------------\n# Modbus TCP Connection\n# ------------------------------------------\n# Endere\u00e7o IP ou hostname do servidor Modbus\nMODBUS_HOST=192.168.0.10\n\n# Porta TCP do servidor Modbus (default: 502)\nMODBUS_PORT=502\n\n# Unit Identifier (Slave ID)\nMODBUS_UNIT_ID=1\n\n# Timeout de comunica\u00e7\u00e3o Modbus (segundos)\nMODBUS_TIMEOUT=3.0\n\n# Endere\u00e7o utilizado para teste de conectividade\nMODBUS_PING_ADDR=1\n\n# Quantidade de tentativas de ping no startup\nMODBUS_PING_COUNT=1\n\n# ------------------------------------------\n# API Logging\n# ------------------------------------------\n# Arquivo de log da API\nAPI_LOG_FILE=api.log\n\n# N\u00edvel de log (INFO, WARNING, ERROR)\nAPI_LOG_LEVEL=INFO\n\n# ------------------------------------------\n# Modbus Client Logging (Opcional)\n# ------------------------------------------\n# Arquivo de log do cliente Modbus\nMODBUS_LOG_FILE=modbus.log\n\n# Habilita log no console (0 = desabilitado, 1 = habilitado)\nMODBUS_CONSOLE_LOG=0\n</code></pre>"},{"location":"setup/environment/#variaveis-de-ambiente-disponiveis","title":"Vari\u00e1veis de Ambiente Dispon\u00edveis","text":""},{"location":"setup/environment/#seguranca","title":"Seguran\u00e7a","text":"Vari\u00e1vel Obrigat\u00f3ria Descri\u00e7\u00e3o <code>MODBUS_API_KEY</code> \u2705 Chave usada para autenticar endpoints de escrita"},{"location":"setup/environment/#conexao-modbus-tcp","title":"\ud83d\udd0c Conex\u00e3o Modbus TCP","text":"Vari\u00e1vel Obrigat\u00f3ria Descri\u00e7\u00e3o <code>MODBUS_HOST</code> \u2705 Endere\u00e7o IP ou hostname do servidor Modbus <code>MODBUS_PORT</code> \u274c Porta TCP do Modbus (default: <code>502</code>) <code>MODBUS_UNIT_ID</code> \u274c Unit Identifier (Slave ID) <code>MODBUS_TIMEOUT</code> \u274c Timeout de comunica\u00e7\u00e3o em segundos <code>MODBUS_PING_ADDR</code> \u274c Endere\u00e7o usado para teste de conectividade <code>MODBUS_PING_COUNT</code> \u274c N\u00famero de tentativas de ping no startup"},{"location":"setup/environment/#logging","title":"Logging","text":"Vari\u00e1vel Obrigat\u00f3ria Descri\u00e7\u00e3o <code>API_LOG_FILE</code> \u274c Caminho do arquivo de log da API <code>API_LOG_LEVEL</code> \u274c N\u00edvel de log (<code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>) <code>MODBUS_LOG_FILE</code> \u274c Arquivo de log do cliente Modbus <code>MODBUS_CONSOLE_LOG</code> \u274c Habilita log Modbus no console (<code>0</code> ou <code>1</code>)"},{"location":"setup/environment/#api-key-e-rotacao","title":"API Key e Rota\u00e7\u00e3o","text":"<p>A Modbus API n\u00e3o gera, n\u00e3o gerencia e n\u00e3o rotaciona API Keys dinamicamente.</p> <p>A API apenas valida a chave configurada no ambiente.</p>"},{"location":"setup/environment/#como-realizar-a-rotacao-da-api-key","title":"Como realizar a rota\u00e7\u00e3o da API Key","text":"<p>A rota\u00e7\u00e3o da API Key \u00e9 uma opera\u00e7\u00e3o administrativa, realizada fora da API:</p> <ol> <li>Gere uma nova chave segura</li> <li>Atualize o valor da vari\u00e1vel <code>MODBUS_API_KEY</code></li> <li>Reinicie o servi\u00e7o da API</li> </ol> <p>Exemplo em ambiente Linux:</p> <pre><code>export MODBUS_API_KEY=\"NOVA_CHAVE_SUPER_SEGURA\"\nsystemctl restart modbus-api\n</code></pre> <p>Modelo de Seguran\u00e7a</p> <p>Esse modelo \u00e9 intencional e adequado para ambientes industriais, pois evita a cria\u00e7\u00e3o de superf\u00edcies de ataque adicionais via endpoints HTTP.</p>"},{"location":"setup/environment/#boas-praticas","title":"Boas Pr\u00e1ticas","text":"<ul> <li>Nunca versionar o arquivo <code>.env</code></li> <li>Utilizar permiss\u00f5es restritas no arquivo (<code>chmod 600</code>)</li> <li>Armazenar segredos fora do c\u00f3digo</li> <li>Utilizar HTTPS em produ\u00e7\u00e3o</li> <li>Rotacionar a API Key periodicamente</li> <li>Reiniciar a API ap\u00f3s qualquer altera\u00e7\u00e3o de ambiente</li> </ul>"},{"location":"setup/environment/#observacoes-operacionais","title":"Observa\u00e7\u00f5es Operacionais","text":"<ul> <li>As vari\u00e1veis de ambiente s\u00e3o carregadas no startup</li> <li>Altera\u00e7\u00f5es no <code>.env</code> exigem rein\u00edcio da API</li> <li>Em ambientes Docker ou systemd, recomenda-se definir as vari\u00e1veis diretamente no servi\u00e7o</li> </ul>"},{"location":"setup/environment/#conclusao","title":"Conclus\u00e3o","text":"<p>O uso correto das vari\u00e1veis de ambiente garante que a Modbus API seja:</p> <ul> <li>Segura</li> <li>Port\u00e1vel</li> <li>F\u00e1cil de operar</li> <li>Adequada para ambientes industriais cr\u00edticos</li> </ul> <p>A configura\u00e7\u00e3o via <code>.env</code> \u00e9 a base para uma opera\u00e7\u00e3o previs\u00edvel e controlada da API.</p>"}]}